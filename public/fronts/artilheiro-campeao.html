<!-- artilheiro-campeao.html v4.0.0 - Tabela com Rodadas Naveg√°veis -->
<div id="artilheiro-campeao-wrapper" style="padding: 20px">
    <!-- Badge de Status (Scheduler) -->
    <div
        id="artilheiro-status-badge"
        style="position: absolute; top: 10px; right: 20px; z-index: 100"
    ></div>

    <!-- Loading inicial -->
    <div
        id="artilheiro-loading"
        style="display: block; text-align: center; padding: 60px 20px"
    >
        <div
            class="loading-spinner"
            style="
                border: 4px solid #f3f3f3;
                border-top: 4px solid #e74c3c;
                border-radius: 50%;
                width: 50px;
                height: 50px;
                animation: spin 1s linear infinite;
                margin: 0 auto;
            "
        ></div>
        <p style="margin-top: 20px; color: #666">
            Carregando Artilheiro Campe√£o...
        </p>
    </div>

    <!-- Container principal -->
    <div id="artilheiro-container" style="display: none"></div>

    <!-- Container alternativo -->
    <div id="artilheiro-campeao-content" style="display: none"></div>
</div>

<!-- CSS do m√≥dulo -->
<link rel="stylesheet" href="/css/modules/artilheiro-campeao.css" />

<style>
    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes pulse {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    .loading-container {
        text-align: center;
        padding: 40px;
    }

    .loading-spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #e74c3c;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin: 0 auto;
    }

    #artilheiro-campeao-wrapper {
        position: relative;
    }
</style>

<script type="module">
    console.log(
        "üèÜ [ARTILHEIRO-CAMPEAO-HTML] Iniciando carregamento do m√≥dulo v4.0.0...",
    );

    // Fun√ß√£o para inicializar o m√≥dulo
    async function initArtilheiro() {
        try {
            console.log(
                "üì¶ [ARTILHEIRO-CAMPEAO-HTML] Importando m√≥dulo v4.0.0...",
            );

            // Importar o m√≥dulo principal v4.0.0
            const artilheiroModule = await import("/js/artilheiro-campeao.js");

            console.log(
                "‚úÖ [ARTILHEIRO-CAMPEAO-HTML] M√≥dulo principal importado",
            );

            // ‚úÖ SEMPRE for√ßar reinicializa√ß√£o ao carregar o HTML
            if (window.ArtilheiroCampeao) {
                console.log(
                    "üöÄ [ARTILHEIRO-CAMPEAO-HTML] For√ßando reinicializa√ß√£o...",
                );
                await window.ArtilheiroCampeao.inicializar();
            } else if (
                typeof window.inicializarArtilheiroCampeao === "function"
            ) {
                console.log(
                    "üöÄ [ARTILHEIRO-CAMPEAO-HTML] Iniciando via window...",
                );
                await window.inicializarArtilheiroCampeao();
            }

            console.log(
                "‚úÖ [ARTILHEIRO-CAMPEAO-HTML] M√≥dulo inicializado com sucesso!",
            );
        } catch (error) {
            console.error("‚ùå [ARTILHEIRO-CAMPEAO-HTML] Erro fatal:", error);

            // Mostrar erro ao usu√°rio
            const loading = document.getElementById("artilheiro-loading");
            const container = document.getElementById("artilheiro-container");

            if (loading) loading.style.display = "none";
            if (container) {
                container.style.display = "block";
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: #fff3cd; border-radius: 8px; color: #856404;">
                        <h3>‚ö†Ô∏è Erro ao Carregar M√≥dulo</h3>
                        <p>${error.message}</p>
                        <details style="margin-top: 15px; text-align: left;">
                            <summary style="cursor: pointer;">Ver detalhes t√©cnicos</summary>
                            <pre style="background: white; padding: 10px; border-radius: 4px; margin-top: 10px; overflow-x: auto;">${error.stack}</pre>
                        </details>
                        <div style="margin-top: 20px;">
                            <button onclick="window.location.reload()" class="btn btn-primary" style="margin-right: 10px; padding: 10px 20px;">
                                üîÑ Recarregar P√°gina
                            </button>
                        </div>
                    </div>
                `;
            }
        }
    }

    // ‚úÖ Executar imediatamente (n√£o esperar DOMContentLoaded pois HTML j√° est√° carregado)
    initArtilheiro();
</script>
