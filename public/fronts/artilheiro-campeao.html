
<div id="artilheiro-campeao-wrapper" style="padding: 20px;">
    <!-- Loading inicial -->
    <div id="artilheiro-loading" style="display: block; text-align: center; padding: 60px 20px;">
        <div class="loading-spinner" style="border: 4px solid #f3f3f3; border-top: 4px solid #007bff; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto;"></div>
        <p style="margin-top: 20px; color: #666;">Carregando Artilheiro Campe√£o...</p>
    </div>

    <!-- Container principal -->
    <div id="artilheiro-container" style="display: none;"></div>

    <!-- Container alternativo -->
    <div id="artilheiro-campeao-content" style="display: none;"></div>
</div>

<style>
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.loading-container {
    text-align: center;
    padding: 40px;
}

.loading-spinner {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #007bff;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 0 auto;
}
</style>

<script type="module">
    console.log('üèÜ [ARTILHEIRO-CAMPEAO-HTML] Iniciando carregamento do m√≥dulo...');
    
    // Fun√ß√£o para inicializar o m√≥dulo
    async function initArtilheiro() {
        try {
            console.log('üîÑ [ARTILHEIRO-CAMPEAO-HTML] Importando m√≥dulos...');
            
            // Importar todos os subm√≥dulos na ordem correta
            const [utils, cache, detector, core, ui] = await Promise.all([
                import('/js/artilheiro-campeao/artilheiro-campeao-utils.js'),
                import('/js/artilheiro-campeao/artilheiro-campeao-cache.js'),
                import('/js/artilheiro-campeao/artilheiro-campeao-detector.js'),
                import('/js/artilheiro-campeao/artilheiro-campeao-core.js'),
                import('/js/artilheiro-campeao/artilheiro-campeao-ui.js')
            ]);

            console.log('‚úÖ [ARTILHEIRO-CAMPEAO-HTML] Subm√≥dulos importados com sucesso');

            // Importar o m√≥dulo principal
            const artilheiroModule = await import('/js/artilheiro-campeao.js');
            
            console.log('‚úÖ [ARTILHEIRO-CAMPEAO-HTML] M√≥dulo principal importado');

            // Verificar se a fun√ß√£o de inicializa√ß√£o existe
            if (typeof window.inicializarArtilheiroCampeao === 'function') {
                console.log('üöÄ [ARTILHEIRO-CAMPEAO-HTML] Iniciando m√≥dulo...');
                await window.inicializarArtilheiroCampeao();
            } else if (typeof artilheiroModule.inicializarArtilheiroCampeao === 'function') {
                console.log('üöÄ [ARTILHEIRO-CAMPEAO-HTML] Iniciando m√≥dulo via export...');
                await artilheiroModule.inicializarArtilheiroCampeao();
            } else {
                throw new Error('Fun√ß√£o inicializarArtilheiroCampeao n√£o encontrada');
            }

        } catch (error) {
            console.error('‚ùå [ARTILHEIRO-CAMPEAO-HTML] Erro fatal:', error);
            
            // Mostrar erro ao usu√°rio
            const loading = document.getElementById('artilheiro-loading');
            const container = document.getElementById('artilheiro-container');
            
            if (loading) loading.style.display = 'none';
            if (container) {
                container.style.display = 'block';
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: #fff3cd; border-radius: 8px; color: #856404;">
                        <h3>‚ö†Ô∏è Erro ao Carregar M√≥dulo</h3>
                        <p>${error.message}</p>
                        <details style="margin-top: 15px; text-align: left;">
                            <summary style="cursor: pointer;">Ver detalhes t√©cnicos</summary>
                            <pre style="background: white; padding: 10px; border-radius: 4px; margin-top: 10px; overflow-x: auto;">${error.stack}</pre>
                        </details>
                        <button onclick="window.location.reload()" class="btn btn-primary" style="margin-top: 15px; padding: 10px 20px;">
                            üîÑ Recarregar P√°gina
                        </button>
                    </div>
                `;
            }
        }
    }

    // Aguardar DOM estar pronto
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initArtilheiro);
    } else {
        // DOM j√° est√° pronto, executar imediatamente
        setTimeout(initArtilheiro, 100);
    }
</script>
