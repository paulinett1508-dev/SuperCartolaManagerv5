<!doctype html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Luva de Ouro - Super Cartola Manager</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap"
            rel="stylesheet"
        />

        <!-- Material Symbols -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        />

        <!-- CSS Base -->
        <link rel="stylesheet" href="/css/base.css" />
        <link rel="stylesheet" href="/css/modules/artilheiro-campeao.css" />

        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                font-family: "Lexend", sans-serif;
                background: #101010;
                color: #ffffff;
                min-height: 100vh;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .material-symbols-outlined {
                font-variation-settings:
                    "FILL" 0,
                    "wght" 400,
                    "GRAD" 0,
                    "opsz" 24;
                vertical-align: middle;
            }
        </style>
    </head>
    <body class="dark">
        <div id="luvaDeOuroContent"></div>
        <script type="module">
            // Inicializa√ß√£o autom√°tica do m√≥dulo
            (function () {
                console.log("ü•Ö [LUVA-HTML] Inicializando m√≥dulo Luva de Ouro...");

                let tentativas = 0;
                const maxTentativas = 30;

                function verificarModulos() {
                    const modulosNecessarios = [
                        "LuvaDeOuroConfig",
                        "LuvaDeOuroCore",
                        "LuvaDeOuroUI",
                        "LuvaDeOuroCache",
                        "LuvaDeOuroOrquestrador",
                    ];

                    const faltando = modulosNecessarios.filter((mod) => !window[mod]);

                    if (faltando.length === 0) {
                        return true;
                    }

                    console.log(`‚è≥ [LUVA-HTML] Aguardando m√≥dulos: ${faltando.join(", ")}`);
                    return false;
                }

                function tentarInicializar() {
                    tentativas++;

                    if (verificarModulos()) {
                        console.log(
                            "‚úÖ [LUVA-HTML] Todos os m√≥dulos carregados, inicializando...",
                        );

                        setTimeout(() => {
                            if (window.LuvaDeOuroOrquestrador?.inicializar) {
                                window.LuvaDeOuroOrquestrador.inicializar();
                            } else {
                                console.error("‚ùå [LUVA-HTML] Orquestrador n√£o dispon√≠vel");
                            }
                        }, 100);

                        return;
                    }

                    if (tentativas >= maxTentativas) {
                        console.error("‚ùå [LUVA-HTML] Timeout aguardando m√≥dulos");
                        const container = document.getElementById("luvaDeOuroContent");
                        if (container) {
                            container.innerHTML = `
                                <div style="text-align: center; padding: 40px; color: #dc3545;">
                                  <p style="font-size: 24px; margin-bottom: 12px;">‚ùå</p>
                                  <p style="font-weight: 600;">Erro ao carregar m√≥dulo</p>
                                  <p style="font-size: 12px; color: #888; margin-top: 8px;">
                                    Verifique o console para mais detalhes
                                  </p>
                                  <button onclick="location.reload()" style="margin-top: 16px; padding: 8px 20px; background: #e67e22; border: none; border-radius: 6px; color: #fff; cursor: pointer;">
                                    Recarregar P√°gina
                                  </button>
                                </div>
                            `;
                        }
                        return;
                    }

                    setTimeout(tentarInicializar, 200);
                }

                if (document.readyState === "loading") {
                    document.addEventListener("DOMContentLoaded", tentarInicializar);
                } else {
                    tentarInicializar();
                }
            })();
        </script>
    </body>
</html>