<!-- MÓDULO RANKING GERAL - v2.1 (Material Icons) -->
<div id="ranking-geral">
    <!-- Header do Ranking -->
    <div class="ranking-header">
        <div class="ranking-title">
            <div class="ranking-icon"><span class="material-icons" style="font-size: 28px; color: #ffd700;">emoji_events</span></div>
            <h2>Classificação Geral</h2>
        </div>
        <div class="ranking-subtitle">
            pontuação acumulada até a rodada atual
        </div>
    </div>

    <!-- Tabs de Filtro por Turno -->
    <div class="ranking-turno-tabs">
        <button class="turno-tab" data-turno="1">1º Turno</button>
        <button class="turno-tab" data-turno="2">2º Turno</button>
        <button class="turno-tab active" data-turno="geral">Geral</button>
    </div>

    <!-- Info do Turno -->
    <div class="ranking-turno-info">
        <span id="turnoStatus" class="turno-status"></span>
        <span id="turnoRodadas" class="turno-rodadas"></span>
    </div>

    <!-- Controles do Ranking -->
    <div class="ranking-controls">
        <div class="ranking-info"><span class="material-icons" style="font-size: 16px; vertical-align: middle;">trending_up</span> Carregando participantes...</div>
        <button
            id="btnConsolidar"
            class="btn-consolidar"
            title="Forçar reconsolidação"
        >
            <span class="material-icons" style="font-size: 16px; vertical-align: middle;">refresh</span> Reconsolidar
        </button>
    </div>

    <!-- Tabela do Ranking -->
    <div class="ranking-table-container">
        <table id="rankingGeralTable" class="ranking-table">
            <thead>
                <tr>
                    <th style="width: 60px; text-align: center">Posição</th>
                    <th style="width: 50px; text-align: center"><span class="material-icons" style="font-size: 16px; color: #e74c3c;">favorite</span></th>
                    <th style="min-width: 180px; text-align: left">
                        Cartoleiro
                    </th>
                    <th style="min-width: 140px; text-align: left">Time</th>
                    <th style="width: 100px; text-align: center">Pontos</th>
                </tr>
            </thead>
            <tbody id="rankingGeralTableBody">
                <!-- Conteúdo será renderizado por ranking.js -->
            </tbody>
        </table>
    </div>

    <!-- Botão Voltar -->
    <div class="module-actions">
        <button
            class="back-button"
            onclick="window.orquestrador?.voltarParaCards()"
        >
            ← Voltar aos Cards
        </button>
    </div>
</div>

<style>
    /* ===== TABS DE TURNO ===== */
    .ranking-turno-tabs {
        display: flex;
        gap: 8px;
        margin: 16px 0;
        padding: 4px;
        background: #2a2a2a;
        border-radius: 8px;
        width: fit-content;
    }

    .turno-tab {
        padding: 10px 20px;
        border: none;
        background: transparent;
        color: #888;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        border-radius: 6px;
        transition: all 0.2s ease;
    }

    .turno-tab:hover {
        background: #333;
        color: #fff;
    }

    .turno-tab.active {
        background: #ff5c00;
        color: #fff;
    }

    /* ===== INFO DO TURNO ===== */
    .ranking-turno-info {
        display: flex;
        gap: 16px;
        align-items: center;
        margin-bottom: 12px;
        font-size: 13px;
    }

    .turno-status {
        padding: 4px 10px;
        border-radius: 4px;
        font-weight: 600;
    }

    .turno-status.consolidado {
        background: rgba(34, 197, 94, 0.2);
        color: #22c55e;
    }

    .turno-status.em_andamento {
        background: rgba(250, 204, 21, 0.2);
        color: #facc15;
    }

    .turno-rodadas {
        color: #888;
    }

    /* ===== CONTROLES ===== */
    .ranking-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
    }

    .btn-consolidar {
        padding: 8px 16px;
        background: #333;
        border: 1px solid #444;
        color: #fff;
        font-size: 13px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .btn-consolidar:hover {
        background: #444;
        border-color: #ff5c00;
    }

    .btn-consolidar:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    /* ===== PÓDIO NA TABELA ===== */
    .ranking-table tbody tr.podio-1 td:first-child {
        background: rgba(250, 204, 21, 0.15);
        border-left: 3px solid #facc15;
    }

    .ranking-table tbody tr.podio-2 td:first-child {
        background: rgba(161, 161, 170, 0.15);
        border-left: 3px solid #a1a1aa;
    }

    .ranking-table tbody tr.podio-3 td:first-child {
        background: rgba(217, 119, 6, 0.15);
        border-left: 3px solid #d97706;
    }

    .ranking-table tbody tr.zona-rebaixamento {
        background: rgba(239, 68, 68, 0.1);
    }

    .ranking-table tbody tr.zona-rebaixamento td:first-child {
        border-left: 3px solid #ef4444;
    }

    .posicao-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        font-weight: 700;
        font-size: 12px;
    }

    .podio-1 .posicao-badge {
        background: #facc15;
        color: #1c1c1e;
    }

    .podio-2 .posicao-badge {
        background: #a1a1aa;
        color: #1c1c1e;
    }

    .podio-3 .posicao-badge {
        background: #d97706;
        color: #fff;
    }

    /* ===== ANIMAÇÃO DE LOADING ===== */
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
</style>

<script>
    // ===== RANKING ADMIN - v2.2 (Delegado para ranking.js) =====
    // Script inline REMOVIDO para evitar conflito com ranking.js
    // A lógica completa (incluindo tela de pré-temporada) está em /js/ranking.js
    // Este HTML é apenas um template de loading inicial
    console.log("[RANKING-GERAL] Template v2.2 carregado - lógica delegada para ranking.js");
</script>
