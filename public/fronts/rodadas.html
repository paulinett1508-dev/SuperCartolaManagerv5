<!-- üéØ M√ìDULO RODADAS - HTML LIMPO E MODULAR -->
<!-- ‚úÖ v2.1: Bot√£o "Limpar Cache" REMOVIDO (era destrutivo) -->
<div id="rodadas" class="rodadas-module">
    <!-- Header do M√≥dulo -->
    <div class="module-header-section">
        <div class="module-title-section">
            <div class="module-title-icon">üéØ</div>
            <h2>Ranking por Rodada</h2>
        </div>
        <div class="module-subtitle">
            Classifica√ß√£o e premia√ß√£o por rodada espec√≠fica
        </div>

        <!-- ‚úÖ APENAS BOT√ÉO DE RECALCULAR (SEGURO) -->
        <div class="admin-cache-buttons">
            <button
                class="btn-cache-admin recalc"
                onclick="abrirModalRecalcMini()"
                title="Recalcular posi√ß√µes"
            >
                <span class="material-icons">refresh</span>
            </button>
            <!-- ‚ùå BOT√ÉO LIMPAR REMOVIDO - ERA DESTRUTIVO -->
        </div>
    </div>

    <!-- Grid de Mini Cards das Rodadas -->
    <div class="rodadas-grid">
        <div id="rodadasCards" class="rodadas-cards-container">
            <!-- Ser√° preenchido via JavaScript -->
        </div>
    </div>

    <!-- Loading State -->
    <div id="loading" class="loading-state" style="display: none">
        <div class="spinner"></div>
        <span>Carregando dados da rodada...</span>
    </div>

    <!-- Container Principal -->
    <div
        id="rodadaContentSection"
        class="rodada-content-section"
        style="display: none"
    >
        <div class="section-header">
            <div class="section-icon">üìä</div>
            <h3 id="rodadaTituloAtual">Rodada Selecionada</h3>
            <!-- Bot√£o de Refresh para Parciais -->
            <button
                id="btnRefreshParciais"
                class="btn-refresh-parciais"
                style="display: none"
            >
                <span class="refresh-icon">üîÑ</span>
                <span>Atualizar</span>
            </button>
        </div>

        <!-- Container da Tabela -->
        <div class="table-container">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th style="width: 45px; text-align: center">Pos</th>
                        <th style="width: 35px; text-align: center">‚ù§Ô∏è</th>
                        <th style="width: 35%; text-align: left">Cartoleiro</th>
                        <th style="width: 35%; text-align: left">Time</th>
                        <th style="width: 12%; text-align: center">Pontos</th>
                        <th style="width: 13%; text-align: center">Banco</th>
                    </tr>
                </thead>
                <tbody id="rankingBody">
                    <tr>
                        <td colspan="6" class="empty-state">
                            Selecione uma rodada para visualizar o ranking
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Se√ß√£o de Relat√≥rio MITOS/MICOS -->
    <div
        id="relatorioMitosMicos"
        class="relatorio-section"
        style="display: none"
    >
        <div class="section-header">
            <div class="section-icon">üìä</div>
            <h3>Hist√≥rico Completo: MITOS e MICOS</h3>
            <button
                id="btnFecharRelatorio"
                class="btn-fechar-relatorio"
                onclick="window.voltarParaCards ? window.voltarParaCards() : document.getElementById('relatorioMitosMicos').style.display='none'"
            >
                ‚úï Fechar
            </button>
        </div>

        <!-- Filtros (renderizados dinamicamente) -->
        <div class="relatorio-filtros">
            <!-- Ser√° preenchido via JavaScript -->
        </div>

        <!-- Estat√≠sticas Resumidas -->
        <div id="estatisticasResumo" class="estatisticas-resumo"></div>

        <!-- Container das Tabelas -->
        <div class="relatorio-container">
            <div id="relatorioContent" class="relatorio-content">
                <!-- Ser√° preenchido via JavaScript -->
            </div>
        </div>
    </div>

    <!-- Bot√£o Voltar -->
    <div class="module-actions">
        <button
            id="btnGerarRelatorioMitosMicos"
            class="btn-relatorio"
            onclick="window.gerarRelatorioMitosMicos && window.gerarRelatorioMitosMicos()"
        >
            üìä Gerar Relat√≥rio MITOS/MICOS
        </button>
        <button
            class="back-button"
            onclick="window.orquestrador?.voltarParaCards()"
        >
            ‚Üê Voltar aos Cards
        </button>
    </div>
</div>

<style>
    .btn-refresh-parciais {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 13px;
        font-weight: 600;
        margin-left: auto;
        transition: all 0.2s ease;
    }

    .btn-refresh-parciais:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(52, 152, 219, 0.4);
    }

    .btn-refresh-parciais:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }

    .btn-refresh-parciais .refresh-icon {
        font-size: 14px;
    }

    @keyframes spin {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    .section-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
    }

    /* Bot√µes Admin Cache */
    .module-header-section {
        position: relative;
    }
    .admin-cache-buttons {
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        gap: 8px;
        opacity: 0.5;
        transition: opacity 0.2s;
        z-index: 10;
    }
    .admin-cache-buttons:hover {
        opacity: 1;
    }
    .btn-cache-admin {
        width: 32px;
        height: 32px;
        border-radius: 6px;
        border: 1px solid;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
    }
    .btn-cache-admin.recalc {
        background: rgba(249, 115, 22, 0.1);
        border-color: rgba(249, 115, 22, 0.3);
        color: #f97316;
    }
    .btn-cache-admin.recalc:hover {
        background: rgba(249, 115, 22, 0.2);
        transform: translateY(-2px);
    }
    .btn-cache-admin .material-icons {
        font-size: 18px;
    }
</style>

<script>
    console.log(
        "[RODADAS-HTML] ‚úÖ HTML do m√≥dulo rodadas carregado v2.1 (bot√£o destrutivo removido)",
    );
</script>
