<!doctype html>
<html lang="pt-BR" class="dark">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />

        <!-- ‚úÖ META TAGS ANTI-CACHE (evita White Screen of Death) -->
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />

        <meta name="theme-color" content="var(--app-bg)" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta
            name="apple-mobile-web-app-status-bar-style"
            content="black-translucent"
        />
        <meta name="apple-mobile-web-app-title" content="Super Cartola" />

        <title>Super Cartola - Participante</title>
        <link rel="icon" href="../favicon.png" />
        
        <!-- ‚úÖ PWA Manifest -->
        <link rel="manifest" href="manifest.json" />
        <link rel="apple-touch-icon" href="/img/newlogo-supercartola.png" />

        <!-- TAILWIND CDN + CONFIG -->
        <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
        <script>
            tailwind.config = {
                darkMode: "class",
                theme: {
                    extend: {
                        colors: {
                            primary: "var(--app-primary)", /* Padronizado com _app-tokens.css */
                            "background-light": "#f6f8f7",
                            "background-dark": "#101010",
                            "surface-dark": "var(--app-surface-elevated)",
                        },
                        fontFamily: {
                            display: ["Inter", "-apple-system", "sans-serif"],
                            brand: ["Russo One", "sans-serif"],  /* Fonte brand para t√≠tulos/stats */
                            mono: ["JetBrains Mono", "monospace"],
                        },
                    },
                },
            };
        </script>

        <!-- MATERIAL ICONS -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        />

        <!-- FONTS -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <!-- Roboto removida: nao faz parte do design system (Inter, Russo One, JetBrains Mono) -->
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&display=swap"
            rel="stylesheet"
        />
        <!-- TEASER 2026: Fontes Russo One e Inter -->
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Russo+One&display=swap"
            rel="stylesheet"
        />

        <!-- TEASER 2026: Phosphor Icons -->
        <script src="https://unpkg.com/@phosphor-icons/web"></script>

        <!-- TEASER 2026: Confetti -->
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

        <!-- Design Tokens (SEMPRE PRIMEIRO) -->
        <link rel="stylesheet" href="css/_app-tokens.css" />
        <!-- CSS BASE -->
        <link rel="stylesheet" href="css/participante.css" />
        <!-- Error Toast -->
        <link rel="stylesheet" href="css/error-toast.css" />

        <!-- ‚úÖ Splash Screen CSS -->
        <link rel="stylesheet" href="css/splash-screen.css" />

        <!-- ‚úÖ Sistema de Versionamento -->
        <link rel="stylesheet" href="/css/app/app-version.css" />

        <!-- ‚úÖ Quick Access Bar -->
        <link rel="stylesheet" href="css/quick-access-bar.css" />

        <!-- ‚úÖ Tabelas Esportivas -->
        <link rel="stylesheet" href="css/tabelas-esportes.css" />

        <!-- ‚úÖ Not√≠cias do Time -->
        <link rel="stylesheet" href="css/noticias-time.css" />

        <!-- ‚úÖ Campinho Virtual -->
        <link rel="stylesheet" href="css/campinho.css" />

        <!-- ‚úÖ Copa de Times Super Cartola -->
        <link rel="stylesheet" href="css/copa-sc.css" />

        <!-- ‚úÖ Extrato Bank (redesign banco digital) -->
        <link rel="stylesheet" href="css/extrato-bank.css" />

        <!-- ‚úÖ Loading Overlay (navega√ß√£o entre m√≥dulos) -->
        <link rel="stylesheet" href="css/pull-refresh.css" />

        <!-- ‚úÖ CSS CR√çTICO INLINE v7 - Manipula√ß√£o via JS, CSS √© fallback -->
        <style id="critical-splash-fix">
            /* ============================================
               SPLASH - CAMADA SUPREMA SOBRE TUDO
               ============================================ */
            #splashScreen {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                bottom: 0 !important;
                z-index: 999999 !important;
                background: var(--app-bg) !important;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            /* Estado: ESCONDIDO - quando JS define display:none ou .hidden */
            #splashScreen.hidden {
                display: none !important;
                opacity: 0 !important;
                visibility: hidden !important;
            }

            /* ============================================
               ESCUDOS - TAMANHO FIXO (PREVINE FOUC)
               ============================================ */
            img.escudo-mini-modern,
            #escudoTime {
                width: 40px !important;
                height: 40px !important;
                max-width: 40px !important;
                max-height: 40px !important;
                object-fit: contain;
            }

            img.escudo-coracao-modern,
            #escudoCoracao {
                width: 24px !important;
                height: 24px !important;
                max-width: 24px !important;
                max-height: 24px !important;
                object-fit: contain;
            }

            /* ============================================
               LOGO SPLASH - SEM DUPLICA√á√ÉO
               ============================================ */
            .splash-logo-glow {
                background: #FF4500 !important;
                background-image: none !important;
            }

            .splash-logo-img {
                filter: none !important;
                width: 220px !important;
                height: 220px !important;
            }

            /* ============================================
               iOS SAFE AREA
               ============================================ */
            @supports (padding: env(safe-area-inset-top)) {
                body {
                    padding-top: env(safe-area-inset-top);
                    padding-bottom: env(safe-area-inset-bottom);
                }
            }
        </style>

        <style>
            .material-symbols-outlined {
                font-family: "Material Symbols Outlined";
                font-weight: normal;
                font-style: normal;
                font-size: 24px;
                line-height: 1;
                letter-spacing: normal;
                text-transform: none;
                display: inline-block;
                white-space: nowrap;
                word-wrap: normal;
                direction: ltr;
                font-variation-settings:
                    "FILL" 1,
                    "wght" 400,
                    "GRAD" 0,
                    "opsz" 24;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .material-icons {
                font-family: "Material Icons";
                font-weight: normal;
                font-style: normal;
                font-size: 24px;
                line-height: 1;
                letter-spacing: normal;
                text-transform: none;
                display: inline-block;
                white-space: nowrap;
                word-wrap: normal;
                direction: ltr;
                -webkit-font-smoothing: antialiased;
            }

            /* Scrollbar personalizada com cores do time do participante */
            ::-webkit-scrollbar {
                width: 5px;
                height: 5px;
            }
            ::-webkit-scrollbar-track {
                background: var(--app-surface-elevated);
            }
            ::-webkit-scrollbar-thumb {
                background: linear-gradient(
                    180deg,
                    var(--scrollbar-cor1, #ff5c00) 0%,
                    var(--scrollbar-cor2, #ff5c00) 100%
                );
                border-radius: 3px;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: linear-gradient(
                    180deg,
                    var(--scrollbar-cor1, #ff5c00) 20%,
                    var(--scrollbar-cor2, #ff5c00) 80%
                );
                filter: brightness(1.2);
            }

            /* Firefox */
            * {
                scrollbar-width: thin;
                scrollbar-color: var(--scrollbar-cor1, #ff5c00) var(--app-surface-elevated);
            }

            @keyframes spin {
                to {
                    transform: rotate(360deg);
                }
            }
            .animate-spin {
                animation: spin 0.8s linear infinite;
            }

            /* HEADER STYLES */
            .header-secondary {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                background: rgba(0, 0, 0, 0.2);
            }
            .header-secondary.active {
                max-height: 120px;
            }
            .secondary-content {
                display: flex;
                align-items: center;
                justify-content: flex-start;
                flex-wrap: wrap;
                padding: 10px 12px;
                gap: 8px;
            }
            .liga-selector {
                flex: 0 1 auto;
                min-width: 120px;
                max-width: 200px;
                padding: 8px 12px;
                border-radius: 6px;
                border: 1px solid rgba(255, 255, 255, 0.2);
                background: rgba(0, 0, 0, 0.3);
                color: white;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
            }
            .btn-logout {
                padding: 8px 14px;
                border-radius: 6px;
                border: 2px solid rgba(255, 69, 0, 0.4);
                background: rgba(255, 69, 0, 0.15);
                color: white;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                white-space: nowrap;
                transition: all 0.2s;
                -webkit-tap-highlight-color: transparent;
            }
            .btn-logout:active {
                transform: scale(0.95);
                background: rgba(255, 69, 0, 0.25);
            }
            .btn-logout:disabled {
                opacity: 0.6;
                cursor: not-allowed;
            }

            /* LIGA BADGE - Seletor de liga inline */
            .liga-badge-container {
                margin-top: 4px;
            }
            .liga-badge {
                display: inline-flex;
                align-items: center;
                gap: 4px;
                padding: 4px 10px;
                background: linear-gradient(135deg, rgba(255, 69, 0, 0.2), rgba(255, 69, 0, 0.1));
                border: 1px solid rgba(255, 69, 0, 0.4);
                border-radius: 20px;
                color: #ff8c42;
                font-size: 11px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
                -webkit-tap-highlight-color: transparent;
            }
            .liga-badge:active {
                transform: scale(0.95);
                background: linear-gradient(135deg, rgba(255, 69, 0, 0.3), rgba(255, 69, 0, 0.2));
            }
            .liga-badge .swap-icon {
                opacity: 0.7;
                animation: pulse-swap 2s infinite;
            }
            @keyframes pulse-swap {
                0%, 100% { opacity: 0.5; }
                50% { opacity: 1; }
            }

            /* Modal de sele√ß√£o de liga */
            .liga-modal-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.85);
                backdrop-filter: blur(4px);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                animation: fadeIn 0.2s ease;
            }
            .liga-modal-content {
                background: var(--app-surface-elevated);
                border-radius: 16px;
                padding: 20px;
                max-width: 340px;
                width: 90%;
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
                animation: slideUp 0.3s ease;
            }
            .liga-modal-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 16px;
            }
            .liga-modal-title {
                display: flex;
                align-items: center;
                gap: 8px;
                color: white;
                font-size: 16px;
                font-weight: 600;
            }
            .liga-modal-close {
                background: none;
                border: none;
                color: #666;
                cursor: pointer;
                padding: 4px;
                border-radius: 50%;
                transition: all 0.2s;
            }
            .liga-modal-close:active {
                background: rgba(255, 255, 255, 0.1);
                color: white;
            }
            .liga-option {
                display: flex;
                align-items: center;
                gap: 12px;
                padding: 14px 16px;
                background: rgba(255, 255, 255, 0.05);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 12px;
                margin-bottom: 8px;
                cursor: pointer;
                transition: all 0.2s;
            }
            .liga-option:active {
                transform: scale(0.98);
                background: rgba(255, 69, 0, 0.2);
                border-color: #ff4500;
            }
            .liga-option.atual {
                background: rgba(255, 69, 0, 0.15);
                border-color: rgba(255, 69, 0, 0.5);
            }
            .liga-option-icon {
                width: 40px;
                height: 40px;
                background: linear-gradient(135deg, #ff4500, var(--app-primary-light));
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .liga-option-icon .material-symbols-outlined {
                color: white;
                font-size: 20px;
            }
            .liga-option-info {
                flex: 1;
            }
            .liga-option-nome {
                color: white;
                font-weight: 600;
                font-size: 14px;
            }
            .liga-option-atual-badge {
                display: inline-block;
                margin-left: 6px;
                padding: 2px 6px;
                background: #ff4500;
                color: white;
                font-size: 9px;
                font-weight: 700;
                border-radius: 4px;
            }
            .liga-option-aposentada-badge {
                display: inline-block;
                margin-left: 6px;
                padding: 2px 6px;
                background: #6b7280;
                color: #e5e7eb;
                font-size: 9px;
                font-weight: 700;
                border-radius: 4px;
            }
            .liga-option.aposentada {
                opacity: 0.7;
            }
            .liga-option.aposentada .liga-option-icon {
                color: #6b7280;
            }
            .liga-option-times {
                color: #888;
                font-size: 11px;
                margin-top: 2px;
            }
            .liga-option-check {
                color: var(--app-success-light);
                opacity: 0;
            }
            .liga-option.atual .liga-option-check {
                opacity: 1;
            }

            /* ============================================
               OVERLAY DE RELOAD (Vidro Fosco) - DEFINITIVO
               ============================================ */
            #reload-glass-overlay {
                position: fixed !important;
                inset: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(20, 20, 20, 0.5);
                backdrop-filter: blur(15px);
                -webkit-backdrop-filter: blur(15px);
                z-index: 999999;
                display: flex;
                justify-content: center;
                align-items: center;
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.15s ease-out;
            }

            #reload-glass-overlay.is-active {
                opacity: 1;
                pointer-events: all;
            }

            /* Bolinha Quicando CSS */
            .reload-ball-container {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .reload-ball {
                width: 56px;
                height: 56px;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: reloadBounce 0.5s infinite;
            }

            .reload-ball .material-icons {
                font-size: 56px;
                color: white;
                animation: reloadSpin 1s linear infinite;
            }

            .reload-ball-shadow {
                width: 40px;
                height: 10px;
                background: rgba(255, 69, 0, 0.6);
                border-radius: 50%;
                filter: blur(4px);
                margin-top: 8px;
                animation: reloadShadow 0.5s infinite;
            }

            @keyframes reloadBounce {
                0%, 100% {
                    transform: translateY(0);
                    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
                }
                50% {
                    transform: translateY(-25px);
                    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
                }
            }

            @keyframes reloadSpin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }

            @keyframes reloadShadow {
                0%, 100% { transform: scale(1); opacity: 0.6; }
                50% { transform: scale(0.5); opacity: 0.2; }
            }

            /* ============================================
               TEASER 2026 - Black & Laranja Intenso
               ============================================ */
            :root {
                --orange-primary: var(--app-primary);
                --orange-light: #FF8800;
                --black-bg: #050505;
            }

            .font-brand {
                font-family: 'Russo One', sans-serif;
            }

            .text-gradient-orange {
                background: linear-gradient(90deg, var(--app-primary), #FFAA00);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                text-shadow: 0 0 30px rgba(255, 85, 0, 0.4);
            }

            .modal-enter {
                animation: zoomIn 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            }

            @keyframes zoomIn {
                0% { opacity: 0; transform: scale(0.9) translateY(20px); }
                100% { opacity: 1; transform: scale(1) translateY(0); }
            }

            /* Scrollbar Discreta para Modal Teaser */
            .custom-scroll::-webkit-scrollbar {
                width: 3px;
            }
            .custom-scroll::-webkit-scrollbar-thumb {
                background: #333;
                border-radius: 4px;
            }
        </style>
    </head>
    <body class="bg-background-dark font-display text-white">

        <!-- ‚úÖ FORCE CACHE CLEAR v7 - Executa ap√≥s p√°gina carregar -->
        <script>
            (function() {
                var FORCE_CLEAR_KEY = 'sw_force_clear_v7';

                // Se ainda n√£o limpou nesta vers√£o, agenda limpeza ap√≥s carregamento
                if (!localStorage.getItem(FORCE_CLEAR_KEY)) {
                    // Marcar imediatamente para evitar m√∫ltiplas execu√ß√µes
                    localStorage.setItem(FORCE_CLEAR_KEY, 'pending');

                    // Executar limpeza apenas AP√ìS p√°gina carregar completamente
                    window.addEventListener('load', function() {
                        setTimeout(function() {
                            if ('caches' in window) {
                                caches.keys().then(function(names) {
                                    return Promise.all(names.map(function(name) {
                                        return caches.delete(name);
                                    }));
                                }).then(function() {
                                    localStorage.setItem(FORCE_CLEAR_KEY, Date.now().toString());
                                }).catch(function() {
                                    localStorage.setItem(FORCE_CLEAR_KEY, Date.now().toString());
                                });
                            } else {
                                localStorage.setItem(FORCE_CLEAR_KEY, Date.now().toString());
                            }
                        }, 2000); // Aguarda 2s ap√≥s load para n√£o interferir
                    });
                }
            })();
        </script>

        <!-- ‚úÖ SPLASH SCREEN - PRIMEIRO ELEMENTO DO BODY (para scripts poderem manipul√°-lo) -->
        <div id="splashScreen" class="splash-screen hidden">
            <!-- Fundo T√°tico -->
            <div class="splash-tactical-bg">
                <svg viewBox="0 0 320 640" preserveAspectRatio="xMidYMid slice">
                    <defs>
                        <pattern id="grid" width="32" height="32" patternUnits="userSpaceOnUse">
                            <rect width="32" height="32" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="0.5"/>
                        </pattern>
                        <marker id="arrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L8,3 z" fill="#FF4500"/>
                        </marker>
                    </defs>
                    <rect width="100%" height="100%" fill="url(#grid)"/>
                    <circle cx="160" cy="320" r="40" fill="none" stroke="rgba(255,255,255,0.08)" stroke-width="1.5"/>
                    <line x1="0" y1="320" x2="320" y2="320" stroke="rgba(255,255,255,0.08)" stroke-width="1.5"/>
                    <text x="40" y="480" fill="rgba(255,255,255,0.2)" font-size="16" font-weight="bold" class="splash-tactical-x delay-1">X</text>
                    <path class="splash-tactical-line delay-1" d="M50 470 Q 90 400 130 360" fill="none" stroke="#FF4500" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrow)"/>
                    <circle cx="160" cy="520" r="6" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="1.5" class="splash-tactical-x delay-2"/>
                    <path class="splash-tactical-line delay-2" d="M160 510 L160 420" fill="none" stroke="rgba(255,255,255,0.15)" stroke-width="1.5"/>
                    <text x="260" y="400" fill="rgba(255,255,255,0.2)" font-size="16" font-weight="bold" class="splash-tactical-x delay-3">X</text>
                    <path class="splash-tactical-line delay-3" d="M250 390 Q 200 350 170 300" fill="none" stroke="#FF4500" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrow)"/>
                </svg>
            </div>
            <div class="splash-glow"></div>
            <div class="splash-content">
                <div class="splash-greeting">
                    <h2>Fala a√≠ Par√ßa!</h2>
                </div>
                <div class="splash-logo-container">
                    <div class="splash-logo-glow"></div>
                    <img src="/img/newlogo-supercartola.png" alt="Super Cartola Logo" class="splash-logo-img">
                </div>
                <div class="splash-loader">
                    <div class="splash-ball-container">
                        <div class="splash-ball">
                            <span class="material-icons">sports_soccer</span>
                        </div>
                        <div class="splash-ball-shadow"></div>
                    </div>
                    <span class="splash-loader-text">Carregando meu time...</span>
                </div>
            </div>
            <div class="splash-footer">
                <p>Ano 11 ‚Ä¢ Super Cartola</p>
            </div>
        </div>
        <!-- FIM SPLASH SCREEN -->

        <!-- ‚úÖ OVERLAY DE RELOAD (Vidro Fosco) -->
        <div id="reload-glass-overlay">
            <div class="reload-ball-container">
                <div class="reload-ball">
                    <span class="material-icons">sports_soccer</span>
                </div>
                <div class="reload-ball-shadow"></div>
            </div>
        </div>

        <!-- ‚úÖ SCRIPT IMEDIATO - Detec√ß√£o Ultra-R√°pida de Reload v4 (AGORA SPLASH J√Å EXISTE NO DOM) -->
        <script>
            (function() {
                // ‚úÖ CHAVE ESPEC√çFICA do app participante (n√£o compartilhada com login)
                var PARTICIPANTE_LOADED_KEY = 'participante_app_loaded';
                var isReload = sessionStorage.getItem(PARTICIPANTE_LOADED_KEY);
                var glassOverlay = document.getElementById('reload-glass-overlay');
                var splashScreen = document.getElementById('splashScreen');

                console.log('[RELOAD-DETECT] isReload:', !!isReload);

                if (isReload) {
                    // √â RELOAD/PULL-REFRESH: Esconde Splash, mostra Vidro Fosco
                    if (splashScreen) {
                        splashScreen.style.display = 'none';
                        splashScreen.classList.add('hidden');
                        splashScreen.classList.remove('animate');
                    }
                    if (glassOverlay) glassOverlay.classList.add('is-active');

                    // ‚úÖ v3: Revelar app via estilo inline direto (cross-platform)
                    document.body.classList.add('app-ready');
                    var container = document.querySelector('.participante-container');
                    var bottomNav = document.querySelector('.bottom-nav-modern');
                    if (container) container.style.cssText = 'display:flex !important;flex-direction:column;';
                    if (bottomNav) bottomNav.style.cssText = 'display:flex !important;';

                    console.log('[RELOAD-DETECT] App revelado (reload)');

                    // Remove o overlay assim que o conte√∫do carregar
                    window.addEventListener('load', function() {
                        setTimeout(function() {
                            if (glassOverlay) glassOverlay.classList.remove('is-active');
                        }, 800);
                    });
                } else {
                    // ‚úÖ v3: Primeira visita - exibir splash imediatamente
                    if (splashScreen) {
                        // Remover .hidden e adicionar .animate para exibir
                        splashScreen.classList.remove('hidden');
                        splashScreen.classList.add('animate');
                        // Tamb√©m definir estilos inline para garantia
                        splashScreen.style.display = 'flex';
                        splashScreen.style.opacity = '1';
                        splashScreen.style.visibility = 'visible';
                        splashScreen.style.pointerEvents = 'all';
                    }
                    console.log('[RELOAD-DETECT] Primeira visita - splash EXIBIDA');
                }
            })();
        </script>

        <!-- ‚úÖ FAILSAFE JS DE EMERG√äNCIA v3 - For√ßa splash esconder ap√≥s 6s -->
        <script>
            (function() {
                // Failsafe: Se ap√≥s 6 segundos a splash ainda estiver vis√≠vel, for√ßa esconder
                setTimeout(function() {
                    var splash = document.getElementById('splashScreen');
                    var overlay = document.getElementById('reload-glass-overlay');
                    var container = document.querySelector('.participante-container');
                    var bottomNav = document.querySelector('.bottom-nav-modern');

                    console.log('[FAILSAFE] Verificando estado ap√≥s 6s...');

                    // Esconder splash se ainda vis√≠vel
                    if (splash && (splash.classList.contains('animate') ||
                        getComputedStyle(splash).display !== 'none')) {
                        console.warn('[FAILSAFE] For√ßando splash a esconder ap√≥s 6s');
                        splash.style.display = 'none';
                        splash.style.opacity = '0';
                        splash.style.visibility = 'hidden';
                        splash.classList.remove('animate');
                        splash.classList.add('hidden');
                    }

                    // Esconder overlay de reload se ainda estiver ativo
                    if (overlay && overlay.classList.contains('is-active')) {
                        console.warn('[FAILSAFE] For√ßando overlay a esconder ap√≥s 6s');
                        overlay.classList.remove('is-active');
                    }

                    // ‚úÖ v3: Garantir que app est√° revelado (estilos inline diretos)
                    // ‚úÖ FIX: N√ÉO for√ßar se manuten√ß√£o est√° ativa (container hidden √© intencional)
                    var manutScreen = document.getElementById('manutencaoScreen');
                    var emManutencao = manutScreen && getComputedStyle(manutScreen).display !== 'none';

                    if (!emManutencao && (!document.body.classList.contains('app-ready') ||
                        (container && getComputedStyle(container).display === 'none'))) {
                        console.warn('[FAILSAFE] Revelando app for√ßado');
                        document.body.classList.add('app-ready');
                        if (container) container.style.cssText = 'display:flex !important;flex-direction:column;';
                        if (bottomNav) bottomNav.style.cssText = 'display:flex !important;';
                    } else if (emManutencao) {
                        console.log('[FAILSAFE] Manuten√ß√£o ativa - n√£o for√ßar app vis√≠vel');
                    }
                }, 6000);
            })();
        </script>
        <!-- ‚úÖ FALLBACK: Estilos inline garantem que app fique oculto at√© estar pronto -->
        <div class="participante-container" style="display:none !important;">
            <!-- HEADER STICKY -->
            <header class="participante-header-modern">
                <div class="header-main-modern">
                    <div class="header-info-group">
                        <div class="escudos-mini-modern">
                            <!-- ‚úÖ FALLBACK: Tamanho inline previne escudos gigantes -->
                            <img
                                id="escudoTime"
                                class="escudo-mini-modern"
                                src="/escudos/placeholder.png"
                                alt="Time"
                                style="width:40px;height:40px;max-width:40px;max-height:40px;"
                            />
                            <img
                                id="escudoCoracao"
                                class="escudo-coracao-modern"
                                src="/escudos/placeholder.png"
                                alt="Cora√ß√£o"
                                style="width:24px;height:24px;max-width:24px;max-height:24px;"
                            />
                        </div>
                        <div class="info-participante-modern">
                            <h1 id="nomeTime">&nbsp;</h1>
                            <p id="nomeCartoleiro">
                                <span id="nomeCartolaText">&nbsp;</span>
                                <span
                                    id="app-version-badge"
                                    class="app-version-badge text-[9px] bg-white/10 px-1.5 py-0.5 rounded"
                                    ></span
                                >
                                <span
                                    id="app-env-badge"
                                    class="text-[9px] bg-red-500/20 border border-red-500/50 text-red-400 px-1.5 py-0.5 rounded ml-1 font-bold uppercase hidden"
                                    >DEV</span
                                >
                            </p>
                            <!-- Badge de Liga Clic√°vel -->
                            <div id="ligaBadgeContainer" class="liga-badge-container" style="display: none;">
                                <button id="ligaBadge" class="liga-badge" title="Clique para trocar de liga">
                                    <span id="ligaBadgeIcone" class="material-symbols-outlined" style="font-size: 14px;">emoji_events</span>
                                    <span id="ligaBadgeNome">Liga</span>
                                    <span class="material-symbols-outlined swap-icon" style="font-size: 12px;">swap_horiz</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <button
                        id="headerMenuToggle"
                        class="header-toggle-btn"
                        title="Menu"
                    >
                        <span class="material-icons">more_vert</span>
                    </button>
                </div>

                <!-- HEADER SECUND√ÅRIO (COLLAPSED) -->
                <!-- ‚úÖ v2.2: Seletor de temporada REMOVIDO - Hall da Fama serve para hist√≥rico -->
                <div id="headerSecondary" class="header-secondary">
                    <div class="secondary-content">
                        <select id="seletorLiga" class="liga-selector">
                            <option></option>
                        </select>
                        <button id="btnLogout" class="btn-logout">
                            <span class="material-icons text-sm mr-1"
                                >logout</span
                            >
                            Sair
                        </button>
                    </div>
                </div>
            </header>

            <script>
                document.addEventListener("DOMContentLoaded", function () {
                    const toggle = document.getElementById("headerMenuToggle");
                    const secondary =
                        document.getElementById("headerSecondary");
                    const btnLogout = document.getElementById("btnLogout");

                    // Toggle menu
                    if (toggle && secondary) {
                        toggle.addEventListener("click", () => {
                            secondary.classList.toggle("active");
                            toggle.style.transform =
                                secondary.classList.contains("active")
                                    ? "rotate(90deg)"
                                    : "rotate(0deg)";
                        });
                    }

                    // ‚úÖ LOGOUT - Event listener no bot√£o
                    if (btnLogout) {
                        btnLogout.addEventListener("click", logout);
                    }
                });
            </script>

            <!-- Container para m√≥dulos -->
            <main id="moduleContainer" class="module-container">
                <!-- Estado inicial vazio (ser√° substitu√≠do pelo m√≥dulo) -->
                <div id="initial-loading" class="flex justify-center items-center min-h-[400px]">
                    <!-- Vazio - evita flash de conte√∫do durante splash -->
                </div>
            </main>
        </div>

        <!-- =====================================================
             TELA DE MANUTEN√á√ÉO - "Calma a√™!" v2.0
             ===================================================== -->
        <div id="manutencaoScreen" class="manutencao-screen">
            <!-- Dev bypass link (discreto) -->
            <a id="devBypassLink" href="#" onclick="window.ManutencaoScreen && ManutencaoScreen.iniciarDevBypass(); return false;"
                class="manutencao-dev-bypass">
                dev
            </a>

            <!-- Card principal -->
            <div class="manutencao-card-principal">
                <!-- Logo animado -->
                <img src="/img/newlogo-supercartola.png" alt="Super Cartola" class="manutencao-logo">

                <!-- Card com mensagem (customiz√°vel) -->
                <div class="manutencao-header manutencao-card-mensagem">
                    <!-- Imagem customizada (opcional) -->
                    <div class="manutencao-imagem" style="display:none;"></div>

                    <h1 class="manutencao-titulo">
                        üõ†Ô∏è Calma a√™!
                    </h1>
                    <p class="manutencao-mensagem manutencao-texto">
                        Estamos aplicando melhorias no app. Voltamos em breve!
                    </p>
                    <p class="manutencao-subtexto">
                        Enquanto isso, explore as op√ß√µes abaixo! üëá
                    </p>

                    <!-- 3 Bot√µes -->
                    <div class="manutencao-botoes">
                        <button id="manutencaoBtnRankingGeral" onclick="window.ManutencaoScreen && ManutencaoScreen.carregarRankingGeral()"
                            class="manutencao-btn">
                            <span class="material-icons" style="font-size:22px;color:#fbbf24;">emoji_events</span>
                            <span class="btn-text">Ranking Geral</span>
                        </button>
                        <button id="manutencaoBtnRankingRodada" onclick="window.ManutencaoScreen && ManutencaoScreen.carregarRankingRodada()"
                            class="manutencao-btn">
                            <span class="material-icons" style="font-size:22px;color:#34d399;">leaderboard</span>
                            <span class="btn-text">Ranking da Rodada</span>
                        </button>
                        <button id="manutencaoBtnDino" onclick="window.ManutencaoScreen && ManutencaoScreen.abrirDinoGame()"
                            class="manutencao-btn">
                            <span style="font-size:22px;"><span class="material-icons">sports_soccer</span></span>
                            <span class="btn-text">Cobran√ßa de P√™nalti</span>
                        </button>
                        <button id="manutencaoBtnRefresh" onclick="window.ManutencaoScreen && ManutencaoScreen.atualizarParciais()"
                            class="manutencao-btn manutencao-btn--refresh">
                            <span class="material-icons" style="font-size:22px;color:#34d399;">refresh</span>
                            <span class="btn-text">Atualizar Parciais</span>
                        </button>
                    </div>
                </div>

                <!-- Conte√∫do din√¢mico (ranking) -->
                <div id="manutencaoConteudo" class="manutencao-conteudo"></div>

                <!-- Container Dino Game -->
                <div id="manutencaoDinoContainer" class="manutencao-conteudo"></div>

                <!-- Not√≠cias do time do cora√ß√£o (carrega automaticamente) -->
                <div id="manutencaoNoticias" class="manutencao-noticias"></div>

                <!-- Footer -->
                <p class="manutencao-footer">
                    Volta logo! <span class="material-icons">bolt</span>
                </p>
            </div>

            <style>
                @keyframes manutBounce {
                    0%, 100% { transform: translateY(0); }
                    50% { transform: translateY(-12px); }
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
                #manutencaoBtnRankingGeral:hover,
                #manutencaoBtnRankingRodada:hover,
                #manutencaoBtnDino:hover {
                    transform: scale(1.02);
                    background: rgba(255,255,255,0.1) !important;
                    border-color: #4b5563 !important;
                }
                #manutencaoBtnRefresh:hover {
                    transform: scale(1.02);
                    background: rgba(52,211,153,0.15) !important;
                    border-color: rgba(52,211,153,0.4) !important;
                }
                #manutencaoBtnRankingGeral:active,
                #manutencaoBtnRankingRodada:active,
                #manutencaoBtnDino:active,
                #manutencaoBtnRefresh:active {
                    transform: scale(0.98);
                }
                @keyframes refreshSpin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            </style>
        </div>

        <!-- ‚úÖ ERROR HANDLER GLOBAL v2 - Captura erros e revela app -->
        <!-- ‚úÖ FIX MOBILE v2: For√ßar renova√ß√£o do SW ANTES de qualquer script -->
        <script>
            (function() {
                var FLAG = 'sw_force_v17_done';
                if (!localStorage.getItem(FLAG) && 'serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(function(regs) {
                        var hadOld = false;
                        regs.forEach(function(reg) { reg.unregister(); hadOld = true; });
                        if (hadOld) {
                            caches.keys().then(function(names) {
                                Promise.all(names.map(function(n) { return caches.delete(n); })).then(function() {
                                    localStorage.setItem(FLAG, '1');
                                    console.log('[SW-FIX] SW antigo removido, recarregando...');
                                    window.location.reload(true);
                                });
                            });
                        } else {
                            localStorage.setItem(FLAG, '1');
                        }
                    });
                }
            })();
        </script>

        <script>
            function __emergencyRevealApp() {
                console.warn('[ERROR-HANDLER] Revela√ß√£o de emerg√™ncia do app');
                var splash = document.getElementById('splashScreen');
                var overlay = document.getElementById('reload-glass-overlay');
                var container = document.querySelector('.participante-container');
                var bottomNav = document.querySelector('.bottom-nav-modern');

                // Esconder splash
                if (splash) {
                    splash.style.display = 'none';
                    splash.classList.remove('animate');
                    splash.classList.add('hidden');
                }
                // Esconder overlay
                if (overlay) overlay.classList.remove('is-active');
                // Revelar app
                document.body.classList.add('app-ready');
                if (container) container.style.cssText = 'display:flex !important;flex-direction:column;';
                if (bottomNav) bottomNav.style.cssText = 'display:flex !important;';
            }

            window.onerror = function(msg, url, line, col, error) {
                console.error('[GLOBAL ERROR]', msg, url, line, error);
                __emergencyRevealApp();
                return false;
            };
            window.addEventListener('unhandledrejection', function(event) {
                console.error('[UNHANDLED PROMISE]', event.reason);
                __emergencyRevealApp();
            });
        </script>

        <!-- ‚úÖ LogManager PRIMEIRO (antes de todos os outros scripts) -->
        <script src="/js/core/log-manager.js"></script>

        <!-- Core Systems -->
        <script type="module" src="/js/core/cache-manager.js"></script>
        <script type="module" src="/js/core/api-client.js"></script>

        <!-- ‚úÖ Splash Screen JS -->
        <script src="js/splash-screen.js"></script>

        <!-- ‚úÖ Sistema de Logos por Liga -->
        <script src="js/liga-logos.js"></script>

        <!-- ‚úÖ Sistema de Cache Offline (IndexedDB) - ANTES do cache-manager -->
        <script src="js/participante-config.js"></script>
        <script src="js/participante-offline-cache.js"></script>

        <!-- ‚úÖ Config opcional do auto-refresh das parciais (ajuste por ambiente) -->
        <script>
            // window.PARCIAIS_REFRESH_MIN_MS = 15000;
            // window.PARCIAIS_REFRESH_MAX_MS = 120000;
            // window.PARCIAIS_REFRESH_BASE_MS = 20000;
        </script>

        <!-- ‚úÖ Cache Manager Participante (usa OfflineCache) -->
        <script src="js/participante-cache-manager.js"></script>

        <!-- Utils (formata√ß√£o de moeda) -->
        <script src="js/participante-utils.js"></script>

        <!-- Scripts participante -->
        <script src="js/participante-auth.js"></script>
        <script src="js/participante-navigation.js"></script>
        <script src="js/participante-season-selector.js" type="module"></script>
        <script src="js/participante-status.js"></script>
        <!-- Live Results Module -->
        <script type="module" src="js/modules/participante-live-results.js"></script>

        <!-- ‚úÖ Loading Overlay (navega√ß√£o entre m√≥dulos) -->
        <script src="js/loading-overlay.js"></script>

        <!-- ‚úÖ Error Toast (feedback de erros para m√≥dulos) -->
        <script src="js/error-toast.js"></script>

        <!-- ‚úÖ Bot√£o de Atualiza√ß√£o Manual -->
        <script src="js/participante-refresh-button.js"></script>

        <!-- ‚úÖ Tabelas Esportivas (Brasileir√£o, Copa, etc) -->
        <script src="js/tabelas-esportes.js"></script>

        <!-- ‚úÖ Tela de Manuten√ß√£o (antes do versionamento que a aciona) -->
        <script src="js/noticias-time.js"></script>
        <script src="js/manutencao-screen.js"></script>

        <!-- ‚úÖ Sistema de Versionamento (com PWA) -->
        <script src="/js/app/app-version.js"></script>

        <!-- ‚úÖ PWA Install Prompt (v1.0) -->
        <script src="js/install-prompt.js"></script>

        <!-- ‚úÖ Quick Access Bar -->
        <script src="js/participante-quick-bar.js"></script>

        <!-- ============================================
             TEASER TEMPORADA 2026 - Bot√£o Flutuante + Modal
             ============================================ -->

        <!-- Bot√£o Flutuante "Vem a√≠" - OCULTO at√© admin disparar 2026 -->
        <button onclick="abrirTeaser()" style="display:none !important;" class="fixed bottom-24 right-4 z-40 flex items-center gap-3 px-5 py-3 bg-[var(--app-bg)] border border-[var(--app-primary)]/40 backdrop-blur-xl rounded-full shadow-[0_0_25px_rgba(255,85,0,0.3)] hover:scale-105 transition-transform group ring-1 ring-white/5">
            <i class="ph-fill ph-rocket-launch text-xl group-hover:animate-bounce text-[var(--app-primary)]"></i>
            <div class="flex flex-col items-start leading-none">
                <span class="text-[9px] text-gray-400 uppercase tracking-widest font-bold">Vem a√≠</span>
                <span class="font-brand text-sm text-white tracking-wide">SUPER CARTOLA <span class="text-[var(--app-primary)]">26</span></span>
            </div>
        </button>

        <!-- Modal Teaser 2026 -->
        <div id="modal-overlay" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/95 backdrop-blur-sm hidden transition-opacity duration-300 opacity-0" style="z-index: 9999;">
            <div id="modal-card" class="relative w-full max-w-md rounded-2xl overflow-hidden text-center transform scale-95 opacity-0 shadow-2xl flex flex-col max-h-[85vh] border border-white/10 bg-[#0f1012]">
                <!-- Barra laranja superior -->
                <div class="h-1 w-full bg-gradient-to-r from-[var(--app-primary)] to-[#FF8800] shadow-[0_0_25px_rgba(255,85,0,0.6)]"></div>

                <div class="p-6 overflow-y-auto custom-scroll relative">
                    <!-- Logo da Liga (se existir) -->
                    <div id="teaser-logo-liga" class="mb-4"></div>

                    <!-- T√≠tulo -->
                    <div class="mb-6">
                        <h2 class="text-gray-500 text-[10px] font-bold tracking-[0.4em] uppercase mb-1">ROADMAP OFICIAL</h2>
                        <h1 class="text-3xl font-brand italic leading-none text-white">SUPER CARTOLA <span class="text-gradient-orange">2026</span></h1>
                    </div>

                    <!-- Card Lan√ßamentos Exclusivos -->
                    <div class="bg-[#161618] border border-[var(--app-primary)]/30 rounded-xl p-4 mb-5 relative overflow-hidden group shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)] text-left">
                        <div class="absolute top-0 right-0 w-40 h-40 blur-[80px] opacity-10 group-hover:opacity-20 transition bg-[var(--app-primary)]"></div>
                        <div class="flex items-center gap-2 mb-4">
                            <i class="ph-fill ph-fire text-[var(--app-primary)] text-lg animate-pulse"></i>
                            <span class="text-xs font-bold uppercase tracking-widest text-white">Lan√ßamentos Exclusivos</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center gap-3 p-3 rounded bg-black/40 hover:bg-black/60 transition border border-white/5 group/item">
                                <i class="ph-fill ph-crosshair text-lg text-[var(--app-primary)]"></i>
                                <div><span class="block text-white text-xs font-bold uppercase">Liga Tiro Certo</span><span class="block text-[10px] text-gray-400">Modo Survival: Errou, caiu.</span></div>
                            </div>
                            <div class="flex items-center gap-3 p-3 rounded bg-black/40 hover:bg-black/60 transition border border-white/5 group/item">
                                <i class="ph-fill ph-globe-hemisphere-west text-lg text-[var(--app-primary)]"></i>
                                <div><span class="block text-white text-xs font-bold uppercase">Bol√£o Copa & Liberta</span><span class="block text-[10px] text-gray-400">Integrados no App.</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- O Retorno dos Lendas -->
                    <div class="mb-6 text-left">
                        <div class="flex items-center gap-2 mb-3 px-1">
                            <i class="ph-fill ph-arrow-u-up-left text-sm text-[var(--app-primary)]"></i>
                            <span class="text-[10px] font-bold uppercase tracking-widest text-gray-400">O Retorno dos Lendas</span>
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                            <div class="px-3 py-2 rounded border border-white/5 bg-[#161618] text-gray-300 text-[10px] font-bold uppercase flex items-center gap-2">
                                <i class="ph-bold ph-users-three text-[var(--app-primary)]"></i> Resta Um
                            </div>
                            <div class="px-3 py-2 rounded border border-white/5 bg-[#161618] text-gray-300 text-[10px] font-bold uppercase flex items-center gap-2">
                                <i class="ph-bold ph-hand-fist text-[var(--app-primary)]"></i> Luva de Ouro
                            </div>
                            <div class="px-3 py-2 rounded border border-white/5 bg-[#161618] text-gray-300 text-[10px] font-bold uppercase flex items-center gap-2">
                                <i class="ph-bold ph-soccer-ball text-[var(--app-primary)]"></i> Artilheiro
                            </div>
                            <div class="px-3 py-2 rounded border border-white/5 bg-[#161618] text-gray-300 text-[10px] font-bold uppercase flex items-center gap-2">
                                <i class="ph-bold ph-crown text-[var(--app-primary)]"></i> Capit√£o Luxo
                            </div>
                        </div>
                    </div>

                    <!-- Countdown Duplo: Mercado + Brasileirao -->
                    <div id="countdown-container" class="mb-4 space-y-3">
                        <!-- Countdown Mercado (principal) -->
                        <div id="countdown-market" class="p-4 rounded-xl bg-gradient-to-r from-[var(--app-primary)]/20 to-transparent border border-[var(--app-primary)]/40 relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-32 h-32 bg-[var(--app-primary)] blur-[60px] opacity-20"></div>
                            <div class="flex items-center justify-between relative">
                                <div class="flex items-center gap-3">
                                    <div class="w-12 h-12 rounded-full bg-[var(--app-primary)]/20 flex items-center justify-center border border-[var(--app-primary)]/40">
                                        <i class="ph-fill ph-shopping-cart text-2xl text-[var(--app-primary)]"></i>
                                    </div>
                                    <div class="text-left">
                                        <p class="text-[10px] text-gray-400 uppercase tracking-widest">Mercado Cartola abre em</p>
                                        <p class="text-xs text-gray-500">12 de Janeiro, 2026</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p id="countdown-market-days" class="text-3xl font-brand text-[var(--app-primary)] leading-none">--</p>
                                    <p class="text-[10px] text-gray-500 uppercase">dias</p>
                                </div>
                            </div>
                        </div>
                        <!-- Countdown Brasileirao (secundario) -->
                        <div class="p-3 rounded-lg bg-black/40 border border-white/10 flex items-center justify-between">
                            <div class="flex items-center gap-2">
                                <i class="ph-fill ph-soccer-ball text-lg text-gray-500"></i>
                                <p class="text-[10px] text-gray-500 uppercase tracking-widest">Brasileirao 2026</p>
                            </div>
                            <p id="countdown-days" class="text-lg font-brand text-gray-400">-- dias</p>
                        </div>
                    </div>

                    <!-- Botao CTA -->
                    <button onclick="fecharTeaserComMarcacao()" class="w-full py-4 rounded-xl font-brand text-sm uppercase tracking-widest hover:brightness-110 shadow-[0_0_30px_rgba(255,85,0,0.2)] transition-all duration-300 group bg-gradient-to-r from-[var(--app-primary)] to-[#FF8800] text-black font-bold">
                        <span class="group-hover:scale-105 inline-block transition-transform">Explorar o App</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Script do Teaser 2026 -->
        <script>
            const overlay = document.getElementById('modal-overlay');
            const card = document.getElementById('modal-card');

            // Atualizar countdowns (Mercado + Brasileirao)
            function atualizarCountdown() {
                const config = window.ParticipanteConfig;
                if (!config) return;

                // Countdown Mercado
                if (config.getMarketCountdown) {
                    const diasMercado = config.getMarketCountdown();
                    const marketEl = document.getElementById('countdown-market-days');
                    const marketContainer = document.getElementById('countdown-market');

                    if (marketEl && marketContainer) {
                        if (diasMercado > 0) {
                            marketEl.textContent = diasMercado;
                        } else {
                            // Mercado ja abriu - mostrar estado diferente
                            marketEl.innerHTML = '<i class="ph-fill ph-check-circle"></i>';
                            marketContainer.querySelector('p.text-\\[10px\\]').textContent = 'MERCADO ABERTO!';
                            marketContainer.classList.add('border-green-500/40');
                            marketContainer.classList.remove('border-[var(--app-primary)]/40');
                        }
                    }
                }

                // Countdown Brasileirao
                if (config.getCountdownDays) {
                    const dias = config.getCountdownDays();
                    const countdownEl = document.getElementById('countdown-days');
                    if (countdownEl) {
                        if (dias > 0) {
                            countdownEl.textContent = dias + (dias === 1 ? ' dia' : ' dias');
                        } else {
                            countdownEl.textContent = 'Comecou!';
                        }
                    }
                }
            }

            function dispararConfetes() {
                var count = 200;
                var defaults = { origin: { y: 0.7 } };
                function fire(particleRatio, opts) {
                    confetti(Object.assign({}, defaults, opts, { particleCount: Math.floor(count * particleRatio) }));
                }
                fire(0.25, { spread: 26, startVelocity: 55, colors: ['var(--app-primary)', 'var(--app-text-primary)'] });
                fire(0.2, { spread: 60, colors: ['#FF8800', 'var(--app-text-primary)'] });
                fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8, colors: ['var(--app-primary)', '#FF4500'] });
            }

            function abrirTeaser() {
                atualizarCountdown();

                // ‚úÖ v2.3: Adicionar logo da liga (se existir)
                const logoContainer = document.getElementById('teaser-logo-liga');
                const ligaData = window.participanteAuth?.ligaDataCache;
                if (logoContainer && ligaData?.logo) {
                    logoContainer.innerHTML = `
                        <div class="flex flex-col items-center">
                            <img src="/${ligaData.logo}"
                                 alt="${ligaData.nome || 'Liga'}"
                                 class="w-14 h-14 object-contain rounded-lg shadow-lg border border-[var(--app-primary)]/30"
                                 onerror="this.parentElement.parentElement.style.display='none'">
                            <p class="text-xs text-gray-500 mt-1">${ligaData.nome || ''}</p>
                        </div>
                    `;
                }

                overlay.classList.remove('hidden');
                setTimeout(() => {
                    overlay.classList.remove('opacity-0');
                    card.classList.remove('opacity-0', 'scale-95');
                    card.classList.add('modal-enter');
                    dispararConfetes();
                }, 10);
            }

            function fecharTeaser() {
                overlay.classList.add('opacity-0');
                card.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    overlay.classList.add('hidden');
                    card.classList.remove('modal-enter');
                }, 300);
                sessionStorage.setItem('spoiler_2026_visto', 'true');
            }

            // =====================================================================
            // ‚úÖ FUN√á√ÉO INLINE: Verificar renova√ß√£o (n√£o depende de m√≥dulos carregados)
            // =====================================================================
            async function verificarRenovacaoInline(ligaId, timeId) {
                const config = window.ParticipanteConfig;
                const temporadaNova = config?.CURRENT_SEASON || 2026;

                try {
                    const url = `/api/inscricoes/${ligaId}/${temporadaNova}/${timeId}`;
                    const response = await fetch(url);

                    if (!response.ok) return { renovado: false };

                    const data = await response.json();

                    if (data.success && data.inscricao) {
                        const status = data.inscricao.status;
                        return {
                            renovado: status === 'renovado' || status === 'novo',
                            status
                        };
                    }

                    return { renovado: false, status: data.statusImplicito || 'pendente' };
                } catch (e) {
                    console.warn('[MODAL] Erro ao verificar renova√ß√£o:', e);
                    return { renovado: false, error: true };
                }
            }

            // Auto-abrir quando temporada estiver em 'preparando'
            // ‚úÖ v2.0: Verifica renova√ß√£o - Se renovou, mostra boas-vindas. Sen√£o, mostra teaser.
            // ‚úÖ v2.1: Modal de boas-vindas s√≥ aparece at√© v√©spera da 1¬™ rodada (27/01/2026)
            window.addEventListener('load', () => {
                const config = window.ParticipanteConfig;
                if (config && config.isPreparando() && config.FEATURES.SHOW_VEM_AI_MODAL) {
                    // Verificar se ainda est√° dentro do per√≠odo do modal de boas-vindas
                    // V√©spera da 1¬™ rodada do Brasileir√£o 2026: 27/01/2026
                    const dataLimiteBoasVindas = new Date('2026-01-28T00:00:00-03:00'); // Meia-noite de 28/01 = fim do dia 27/01
                    const agora = new Date();
                    const dentroDoPer√≠odoBoasVindas = agora < dataLimiteBoasVindas;

                    // Aguardar auth estar pronto para verificar renova√ß√£o
                    const verificarEAbrir = async () => {
                        // Se j√° viu boas-vindas ou teaser, n√£o mostrar nada
                        if (sessionStorage.getItem('boas_vindas_2026_visto')) return;
                        if (sessionStorage.getItem('vem_ai_2026_visto')) return;

                        // Verificar se tem dados de auth
                        const ligaId = window.participanteAuth?.ligaId;
                        const timeId = window.participanteAuth?.timeId;

                        if (ligaId && timeId && dentroDoPer√≠odoBoasVindas) {
                            try {
                                const status = await verificarRenovacaoInline(ligaId, timeId);

                                if (status.renovado) {
                                    // ‚úÖ v2.2: Liga estreante - n√£o faz sentido "Bem-vindo de VOLTA"
                                    // Mostra apenas o Roadmap/Teaser
                                    if (window.isLigaEstreante) {
                                        console.log('[MODAL] Liga estreante + renovado - mostrando Roadmap (n√£o "de volta")');
                                        abrirTeaser();
                                        return;
                                    }

                                    // Participante RENOVOU em liga existente - mostrar boas-vindas verde
                                    console.log('[MODAL] Participante renovado - mostrando boas-vindas (at√© 27/01/2026)');
                                    abrirBoasVindas();
                                    return;
                                }
                            } catch (e) {
                                console.warn('[MODAL] Erro ao verificar renova√ß√£o:', e);
                            }
                        }

                        // Participante N√ÉO renovou ou erro na verifica√ß√£o - mostrar teaser normal
                        console.log('[MODAL] Participante n√£o renovado - mostrando teaser');
                        abrirTeaser();
                    };

                    // Aguardar um pouco para auth carregar
                    setTimeout(verificarEAbrir, 2000);
                }
            });

            function fecharTeaserComMarcacao() {
                fecharTeaser();
                sessionStorage.setItem('vem_ai_2026_visto', 'true');
            }

            // Expor funcao globalmente para o botao flutuante
            window.abrirRoadmap2026 = abrirTeaser;

            // =====================================================================
            // ‚úÖ MODAL BOAS-VINDAS 2026 - Para participantes RENOVADOS
            // =====================================================================
            function criarModalBoasVindas() {
                // Verificar se j√° existe
                if (document.getElementById('modal-boas-vindas-2026')) return;

                const modalHTML = `
                    <div id="modal-boas-vindas-2026" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/95 backdrop-blur-sm hidden transition-opacity duration-300 opacity-0" style="z-index: 10000;">
                        <div id="boas-vindas-card" class="relative w-full max-w-sm rounded-2xl overflow-hidden text-center transform scale-95 opacity-0 shadow-2xl border border-green-500/30 bg-[#0f1012]">
                            <!-- Barra verde superior -->
                            <div class="h-1 w-full bg-gradient-to-r from-green-500 to-emerald-400 shadow-[0_0_25px_rgba(16,185,129,0.6)]"></div>

                            <div class="p-6 relative">
                                <!-- Confetti container -->
                                <div class="absolute inset-0 pointer-events-none overflow-hidden" id="confetti-container"></div>

                                <!-- Logo da Liga (se existir) -->
                                <div id="boas-vindas-logo-liga" class="relative z-10 mb-3"></div>

                                <!-- Icone Sucesso -->
                                <div class="relative z-10 mb-4">
                                    <div class="w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-green-500 to-emerald-400 flex items-center justify-center shadow-[0_0_40px_rgba(16,185,129,0.4)]">
                                        <span class="material-icons text-4xl text-white">check_circle</span>
                                    </div>
                                </div>

                                <!-- Titulo -->
                                <h1 class="text-2xl font-brand text-white mb-2">Bem-vindo de volta!</h1>
                                <p class="text-gray-400 text-sm mb-6">Sua inscricao na temporada <span class="text-green-400 font-bold">2026</span> foi confirmada</p>

                                <!-- Card Status -->
                                <div class="bg-[#161618] border border-green-500/20 rounded-xl p-4 mb-5 text-left">
                                    <div class="flex items-center gap-3 mb-3">
                                        <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center">
                                            <span class="material-icons text-green-400">verified</span>
                                        </div>
                                        <div>
                                            <p class="text-white font-bold text-sm">Participante Ativo</p>
                                            <p class="text-gray-500 text-xs">Temporada 2026</p>
                                        </div>
                                    </div>
                                    <div class="space-y-2 text-xs">
                                        <div class="flex items-center gap-2 text-gray-400">
                                            <span class="material-icons text-sm text-green-400">sports_soccer</span>
                                            <span>O melhor fantasy game da internet</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-gray-400">
                                            <span class="material-icons text-sm text-green-400">calendar_today</span>
                                            <span>Pronto para o Brasileirao 2026</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-gray-400">
                                            <span class="material-icons text-sm text-green-400">history</span>
                                            <span>Historico 2025 no Hall da Fama</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Botao CTA -->
                                <button onclick="fecharBoasVindas()" class="w-full py-4 rounded-xl font-brand text-sm uppercase tracking-widest hover:brightness-110 shadow-[0_0_30px_rgba(16,185,129,0.2)] transition-all duration-300 group bg-gradient-to-r from-green-500 to-emerald-400 text-black font-bold">
                                    <span class="group-hover:scale-105 inline-block transition-transform">Vamos la!</span>
                                </button>
                            </div>
                        </div>
                    </div>
                `;

                document.body.insertAdjacentHTML('beforeend', modalHTML);
            }

            function abrirBoasVindas() {
                criarModalBoasVindas();
                const modal = document.getElementById('modal-boas-vindas-2026');
                const card = document.getElementById('boas-vindas-card');
                if (!modal || !card) return;

                // ‚úÖ v2.3: Adicionar logo da liga (se existir)
                const logoContainer = document.getElementById('boas-vindas-logo-liga');
                const ligaData = window.participanteAuth?.ligaDataCache;
                if (logoContainer && ligaData?.logo) {
                    logoContainer.innerHTML = `
                        <img src="/${ligaData.logo}"
                             alt="${ligaData.nome || 'Liga'}"
                             class="w-16 h-16 mx-auto object-contain rounded-lg shadow-lg border border-white/10"
                             onerror="this.parentElement.style.display='none'">
                        <p class="text-xs text-gray-500 mt-1">${ligaData.nome || ''}</p>
                    `;
                }

                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    card.classList.remove('opacity-0', 'scale-95');
                    card.classList.add('modal-enter');
                    // Confetti verde!
                    if (typeof confetti !== 'undefined') {
                        confetti({
                            particleCount: 100,
                            spread: 70,
                            origin: { y: 0.6 },
                            colors: ['var(--app-success)', '#34d399', '#6ee7b7', 'var(--app-text-primary)']
                        });
                    }
                }, 10);
            }

            function fecharBoasVindas() {
                const modal = document.getElementById('modal-boas-vindas-2026');
                const card = document.getElementById('boas-vindas-card');
                if (!modal || !card) return;

                modal.classList.add('opacity-0');
                card.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    card.classList.remove('modal-enter');
                }, 300);
                sessionStorage.setItem('boas_vindas_2026_visto', 'true');
            }

            // Expor globalmente
            window.abrirBoasVindas2026 = abrirBoasVindas;
            window.fecharBoasVindas = fecharBoasVindas;

            // =====================================================================
            // ‚ùå FAB MERCADO CARTOLA - REMOVIDO (conforme solicita√ß√£o)
            // =====================================================================
            // MOTIVO: Bot√£o flutuante "RODADA X FECHADO" removido para simplificar UI
            // STATUS: Status do mercado dispon√≠vel via Quick Access Bar
            // FAB REMOVIDO: Interface mais limpa, sem bot√µes flutuantes sobrepostos
            // ‚úÖ Status do mercado ainda dispon√≠vel via Quick Access Bar
            window.addEventListener('load', () => {
                console.log('[PARTICIPANTE] Sistema iniciado - FAB Mercado removido');
            });
        </script>

        <!-- ================================================================= -->
        <!-- MODAL PREMIA√á√ïES 2026 - Accordion com todas as premia√ß√µes         -->
        <!-- ================================================================= -->
        <div id="modal-premiacoes-2026" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/95 backdrop-blur-sm hidden transition-opacity duration-300 opacity-0" style="z-index: 10000;">
            <div id="premiacoes-card" class="relative w-full max-w-md rounded-2xl overflow-hidden transform scale-95 opacity-0 shadow-2xl border border-primary/30 bg-[#0f1012] max-h-[85vh] flex flex-col">
                <!-- Header Fixo -->
                <div class="sticky top-0 z-10 bg-[#0f1012] border-b border-white/10">
                    <div class="h-1 w-full bg-gradient-to-r from-primary to-orange-400"></div>
                    <div class="p-4 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center">
                                <span class="material-icons text-xl text-primary">emoji_events</span>
                            </div>
                            <div>
                                <h2 class="text-lg font-brand text-white">Premia√ß√µes 2026</h2>
                                <p class="text-[10px] text-white/50 uppercase tracking-wider">Super Cartola Manager</p>
                            </div>
                        </div>
                        <button onclick="fecharPremiacoes2026()" class="p-2 rounded-full hover:bg-white/10 transition-colors">
                            <span class="material-icons text-white/60">close</span>
                        </button>
                    </div>
                </div>

                <!-- Conte√∫do Scroll√°vel com Accordion -->
                <div class="flex-1 overflow-y-auto p-4 space-y-2" id="premiacoes-accordion">

                    <!-- 1. Ranking Geral (G10) -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-yellow-400">emoji_events</span>
                                <span class="text-sm font-medium text-white">Ranking Geral (G10)</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3">
                            <div class="grid grid-cols-2 gap-2">
                                <div class="p-2 rounded-lg bg-yellow-400/20 border border-yellow-400/30 text-center">
                                    <p class="text-[10px] text-yellow-400">1¬∞ Campe√£o</p>
                                    <p class="text-lg font-bold text-yellow-400">R$ 1.000</p>
                                </div>
                                <div class="p-2 rounded-lg bg-gray-400/10 border border-gray-400/20 text-center">
                                    <p class="text-[10px] text-gray-300">2¬∞ lugar</p>
                                    <p class="text-lg font-bold text-gray-300">R$ 700</p>
                                </div>
                                <div class="p-2 rounded-lg bg-orange-400/10 border border-orange-400/20 text-center">
                                    <p class="text-[10px] text-orange-300">3¬∞ lugar</p>
                                    <p class="text-lg font-bold text-orange-300">R$ 500</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">4¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 350</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">5¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 300</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">6¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 250</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">7¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 200</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">8¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 150</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">9¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 100</p>
                                </div>
                                <div class="p-2 rounded-lg bg-white/5 text-center">
                                    <p class="text-[10px] text-white/50">10¬∞ lugar</p>
                                    <p class="text-sm font-bold text-white/70">R$ 50</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Ranking de Rodada -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-primary">trending_up</span>
                                <span class="text-sm font-medium text-white">Ranking de Rodada</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-3">
                            <!-- B√¥nus G10 -->
                            <div>
                                <p class="text-xs font-medium text-green-400 mb-2 flex items-center gap-1">
                                    <span class="material-icons text-sm">arrow_upward</span> B√¥nus G10
                                </p>
                                <div class="grid grid-cols-5 gap-1 text-center text-[10px]">
                                    <div class="p-1.5 rounded bg-green-400/20 border border-green-400/30">
                                        <p class="text-green-300">G1</p>
                                        <p class="font-bold text-green-400">+20</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">2¬∞</p>
                                        <p class="font-bold text-green-400">+15</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">3¬∞</p>
                                        <p class="font-bold text-green-400">+12</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">4¬∞</p>
                                        <p class="font-bold text-green-400">+11</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">5¬∞</p>
                                        <p class="font-bold text-green-400">+10</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">6¬∞</p>
                                        <p class="font-bold text-green-400">+9</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">7¬∞</p>
                                        <p class="font-bold text-green-400">+8</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">8¬∞</p>
                                        <p class="font-bold text-green-400">+7</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">9¬∞</p>
                                        <p class="font-bold text-green-400">+6</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-green-400/10">
                                        <p class="text-white/50">10¬∞</p>
                                        <p class="font-bold text-green-400">+5</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Zona Neutra -->
                            <div class="text-center py-2 rounded-lg bg-gray-500/10 border border-gray-500/20">
                                <p class="text-xs text-gray-400">Zona Neutra: 11¬∞ ao 32¬∞</p>
                            </div>
                            <!-- √înus Z10 -->
                            <div>
                                <p class="text-xs font-medium text-red-400 mb-2 flex items-center gap-1">
                                    <span class="material-icons text-sm">arrow_downward</span> √înus Z10
                                </p>
                                <div class="grid grid-cols-5 gap-1 text-center text-[10px]">
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">33¬∞</p>
                                        <p class="font-bold text-red-400">-5</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">34¬∞</p>
                                        <p class="font-bold text-red-400">-6</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">35¬∞</p>
                                        <p class="font-bold text-red-400">-7</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">36¬∞</p>
                                        <p class="font-bold text-red-400">-8</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">37¬∞</p>
                                        <p class="font-bold text-red-400">-9</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">38¬∞</p>
                                        <p class="font-bold text-red-400">-10</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">39¬∞</p>
                                        <p class="font-bold text-red-400">-11</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">40¬∞</p>
                                        <p class="font-bold text-red-400">-12</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/10">
                                        <p class="text-white/50">41¬∞</p>
                                        <p class="font-bold text-red-400">-15</p>
                                    </div>
                                    <div class="p-1.5 rounded bg-red-400/20 border border-red-400/30">
                                        <p class="text-red-300">Z1</p>
                                        <p class="font-bold text-red-400">-20</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Campe√µes de Turno -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-yellow-400">military_tech</span>
                                <span class="text-sm font-medium text-white">Campe√µes de Turno</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-2">
                            <div class="flex items-center justify-between p-2 rounded-lg bg-white/5">
                                <span class="text-xs text-white/70">1¬∞ Turno</span>
                                <span class="text-xs font-medium text-yellow-400">Copo T√©rmico GoCase</span>
                            </div>
                            <div class="flex items-center justify-between p-2 rounded-lg bg-white/5">
                                <span class="text-xs text-white/70">2¬∞ Turno</span>
                                <span class="text-xs font-medium text-yellow-400">Camisa do Time</span>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Disputas Individuais -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-primary">sports_soccer</span>
                                <span class="text-sm font-medium text-white">Disputas Individuais</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-2">
                            <div class="flex items-center justify-between p-2 rounded-lg bg-white/5">
                                <div class="flex items-center gap-2">
                                    <span class="material-icons text-sm text-primary">sports_soccer</span>
                                    <span class="text-xs text-white/70">Artilheiro Campe√£o</span>
                                </div>
                                <span class="text-xs font-bold text-green-400">R$ 50,00</span>
                            </div>
                            <div class="flex items-center justify-between p-2 rounded-lg bg-white/5">
                                <div class="flex items-center gap-2">
                                    <span class="material-icons text-sm text-primary">sports_mma</span>
                                    <span class="text-xs text-white/70">Luva de Ouro</span>
                                </div>
                                <span class="text-xs font-bold text-green-400">R$ 50,00</span>
                            </div>
                            <div class="flex items-center justify-between p-2 rounded-lg bg-white/5">
                                <div class="flex items-center gap-2">
                                    <span class="material-icons text-sm text-primary">star</span>
                                    <span class="text-xs text-white/70">Capit√£o Campe√£o</span>
                                </div>
                                <span class="text-xs font-bold text-green-400">R$ 50,00</span>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Pontos Corridos -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-blue-400">leaderboard</span>
                                <span class="text-sm font-medium text-white">Pontos Corridos</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-2">
                            <div class="flex items-center justify-between p-2 rounded-lg bg-yellow-400/10 border border-yellow-400/20">
                                <span class="text-xs text-yellow-400 font-medium">1¬∞ Campe√£o</span>
                                <span class="text-sm font-bold text-yellow-400">R$ 150,00</span>
                            </div>
                            <div class="flex items-center justify-between p-2 rounded-lg bg-gray-400/10 border border-gray-400/20">
                                <span class="text-xs text-gray-300 font-medium">2¬∞ lugar</span>
                                <span class="text-sm font-bold text-gray-300">R$ 130,00</span>
                            </div>
                            <div class="flex items-center justify-between p-2 rounded-lg bg-orange-400/10 border border-orange-400/20">
                                <span class="text-xs text-orange-300 font-medium">3¬∞ lugar</span>
                                <span class="text-sm font-bold text-orange-300">R$ 110,00</span>
                            </div>
                        </div>
                    </div>

                    <!-- 6. Torneios -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-purple-400">account_tree</span>
                                <span class="text-sm font-medium text-white">Torneios</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-3">
                            <!-- Mata-Mata -->
                            <div class="p-2 rounded-lg bg-white/5">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-xs font-medium text-white/90">Mata-Mata</span>
                                    <span class="text-[10px] text-purple-400">5 edi√ß√µes</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-[10px] text-white/50">Pr√™mio por edi√ß√£o</span>
                                    <span class="text-xs font-bold text-green-400">R$ 50,00</span>
                                </div>
                            </div>
                            <!-- RestaUm -->
                            <div class="p-2 rounded-lg bg-white/5">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-xs font-medium text-white/90">RestaUm</span>
                                    <span class="text-[10px] text-purple-400">Eliminat√≥ria</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-[10px] text-white/50">Pr√™mio</span>
                                    <span class="text-xs font-bold text-purple-400">FireStick Amazon</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 7. Super Novidades 2026 -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-purple-400">auto_awesome</span>
                                <span class="text-sm font-medium text-white">Super Novidades 2026</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-3">
                            <!-- Liga Tiro Certo -->
                            <div class="p-2 rounded-lg bg-white/5">
                                <div class="flex items-center justify-between">
                                    <span class="text-xs text-white/70">Liga Tiro Certo</span>
                                    <span class="text-xs font-bold text-green-400">R$ 50,00 /edi√ß√£o</span>
                                </div>
                            </div>
                            <!-- Bol√µes -->
                            <div class="pt-2 border-t border-white/10">
                                <p class="text-xs font-medium text-white/60 mb-2 flex items-center gap-1">
                                    <span class="material-icons text-sm text-green-400">public</span> Bol√µes
                                </p>
                                <!-- Copa do Mundo -->
                                <div class="p-2 rounded-lg bg-white/5 mb-2">
                                    <p class="text-xs font-medium text-white/80 mb-2">Copa do Mundo</p>
                                    <div class="grid grid-cols-3 gap-2 text-center">
                                        <div class="p-1.5 rounded bg-yellow-400/10">
                                            <p class="text-[10px] text-yellow-400">1¬∞</p>
                                            <p class="text-xs font-bold text-yellow-400">R$ 100</p>
                                        </div>
                                        <div class="p-1.5 rounded bg-gray-400/10">
                                            <p class="text-[10px] text-gray-300">2¬∞</p>
                                            <p class="text-xs font-bold text-gray-300">R$ 70</p>
                                        </div>
                                        <div class="p-1.5 rounded bg-orange-400/10">
                                            <p class="text-[10px] text-orange-300">3¬∞</p>
                                            <p class="text-xs font-bold text-orange-300">R$ 40</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Libertadores -->
                                <div class="p-2 rounded-lg bg-white/5">
                                    <p class="text-xs font-medium text-white/80 mb-2">Libertadores</p>
                                    <div class="grid grid-cols-3 gap-2 text-center">
                                        <div class="p-1.5 rounded bg-yellow-400/10">
                                            <p class="text-[10px] text-yellow-400">1¬∞</p>
                                            <p class="text-xs font-bold text-yellow-400">R$ 120</p>
                                        </div>
                                        <div class="p-1.5 rounded bg-gray-400/10">
                                            <p class="text-[10px] text-gray-300">2¬∞</p>
                                            <p class="text-xs font-bold text-gray-300">R$ 90</p>
                                        </div>
                                        <div class="p-1.5 rounded bg-orange-400/10">
                                            <p class="text-[10px] text-orange-300">3¬∞</p>
                                            <p class="text-xs font-bold text-orange-300">R$ 60</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 8. B√¥nus e √înus -->
                    <div class="accordion-item rounded-xl border border-white/10 overflow-hidden">
                        <button class="accordion-header w-full p-3 flex items-center justify-between bg-white/5 hover:bg-white/10 transition-colors" onclick="toggleAccordion(this)">
                            <div class="flex items-center gap-3">
                                <span class="material-icons text-cyan-400">swap_vert</span>
                                <span class="text-sm font-medium text-white">B√¥nus e √înus</span>
                            </div>
                            <span class="material-icons text-white/40 accordion-icon transition-transform">expand_more</span>
                        </button>
                        <div class="accordion-content hidden bg-black/30 p-3 space-y-2">
                            <div class="flex items-center gap-2 p-2 rounded-lg bg-white/5">
                                <span class="material-icons text-sm text-yellow-400">workspace_premium</span>
                                <span class="text-xs text-white/70">Top10 Micos e Mitos</span>
                            </div>
                            <div class="flex items-center gap-2 p-2 rounded-lg bg-green-400/10 border border-green-400/20">
                                <span class="material-icons text-sm text-green-400">verified</span>
                                <span class="text-xs text-green-400">Nunca Mico - B√¥nus</span>
                            </div>
                            <div class="flex items-center gap-2 p-2 rounded-lg bg-red-400/10 border border-red-400/20">
                                <span class="material-icons text-sm text-red-400">home</span>
                                <span class="text-xs text-red-400">Morador de Zona (>19x na Z) - √înus</span>
                            </div>
                            <div class="flex items-center gap-2 p-2 rounded-lg bg-green-400/10 border border-green-400/20">
                                <span class="material-icons text-sm text-green-400">park</span>
                                <span class="text-xs text-green-400">√Årea Green (>19x no G) - B√¥nus</span>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Footer -->
                <div class="sticky bottom-0 bg-[#0f1012] border-t border-white/10 p-3">
                    <button onclick="fecharPremiacoes2026()" class="w-full py-3 rounded-xl bg-primary/20 border border-primary/30 text-primary font-medium text-sm hover:bg-primary/30 transition-colors">
                        Fechar
                    </button>
                </div>
            </div>
        </div>

        <!-- Mini-Modal Aguarde Atualiza√ß√µes -->
        <div id="modal-aguarde" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-sm hidden transition-opacity duration-300 opacity-0" style="z-index: 10001;">
            <div id="aguarde-card" class="relative w-full max-w-xs rounded-2xl overflow-hidden transform scale-95 opacity-0 transition-all duration-300 shadow-2xl border border-primary/30 bg-[#0f1012] p-6 text-center">
                <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center">
                    <span class="material-icons text-3xl text-primary">hourglass_empty</span>
                </div>
                <h3 class="text-lg font-bold text-white mb-2" style="font-family: 'Russo One', sans-serif;">Em breve!</h3>
                <p class="text-sm text-white/60 mb-4">Aguarde novas atualiza√ß√µes</p>
                <button onclick="fecharModalAguarde()" class="w-full py-3 rounded-xl bg-primary/20 border border-primary/30 text-primary font-medium text-sm hover:bg-primary/30 transition-colors">
                    Entendi
                </button>
            </div>
        </div>

        <!-- Script do Modal Premia√ß√µes 2026 -->
        <script>
            // ID da liga Super Cartola (√∫nica com premia√ß√µes configuradas)
            const LIGA_SUPER_CARTOLA_ID = '684cb1c8af923da7c7df51de';

            // Mini-modal "Aguarde"
            function abrirModalAguarde() {
                const modal = document.getElementById('modal-aguarde');
                const card = document.getElementById('aguarde-card');
                if (!modal || !card) return;

                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    card.classList.remove('scale-95', 'opacity-0');
                }, 10);
            }

            function fecharModalAguarde() {
                const modal = document.getElementById('modal-aguarde');
                const card = document.getElementById('aguarde-card');
                if (!modal || !card) return;

                modal.classList.add('opacity-0');
                card.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            // Fechar modal ao clicar fora
            document.getElementById('modal-aguarde')?.addEventListener('click', function(e) {
                if (e.target === this) fecharModalAguarde();
            });

            window.abrirModalAguarde = abrirModalAguarde;
            window.fecharModalAguarde = fecharModalAguarde;

            // Fun√ß√µes do Modal Premia√ß√µes 2026
            function abrirPremiacoes2026() {
                // Verificar se a liga tem premia√ß√µes configuradas
                const ligaId = window.participanteAuth?.ligaId;
                if (ligaId !== LIGA_SUPER_CARTOLA_ID) {
                    // Liga sem configura√ß√µes - mostrar mini-modal
                    abrirModalAguarde();
                    console.log('[PREMIACOES] Liga sem configura√ß√µes, exibindo modal aguarde');
                    return;
                }

                const modal = document.getElementById('modal-premiacoes-2026');
                const card = document.getElementById('premiacoes-card');
                if (!modal || !card) return;

                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    card.classList.remove('scale-95', 'opacity-0');
                }, 10);
            }

            function fecharPremiacoes2026() {
                const modal = document.getElementById('modal-premiacoes-2026');
                const card = document.getElementById('premiacoes-card');
                if (!modal || !card) return;

                modal.classList.add('opacity-0');
                card.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            // Toggle Accordion
            function toggleAccordion(header) {
                const item = header.closest('.accordion-item');
                const content = item.querySelector('.accordion-content');
                const icon = header.querySelector('.accordion-icon');

                // Toggle atual
                content.classList.toggle('hidden');
                icon.style.transform = content.classList.contains('hidden') ? 'rotate(0deg)' : 'rotate(180deg)';
            }

            // Fechar modal ao clicar fora
            document.getElementById('modal-premiacoes-2026')?.addEventListener('click', function(e) {
                if (e.target === this) fecharPremiacoes2026();
            });

            // Expor globalmente
            window.abrirPremiacoes2026 = abrirPremiacoes2026;
            window.fecharPremiacoes2026 = fecharPremiacoes2026;

            console.log('[PREMIACOES] Modal Premia√ß√µes 2026 carregado');
        </script>

        <!-- Modal Participantes 2026 -->
        <div id="modal-participantes-2026" class="fixed inset-0 z-50 hidden opacity-0 transition-opacity duration-300" style="background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); z-index: 10000;">
            <div id="participantes-card" class="absolute inset-x-4 top-1/2 -translate-y-1/2 max-w-md mx-auto bg-[#0f1012] rounded-2xl border border-white/10 shadow-2xl overflow-hidden scale-95 opacity-0 transition-all duration-300 max-h-[80vh] flex flex-col">

                <!-- Header Fixo -->
                <div class="sticky top-0 bg-[#0f1012] border-b border-white/10 p-4 z-10">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center">
                                <span class="material-icons text-primary">groups</span>
                            </div>
                            <div>
                                <h2 class="text-lg font-bold text-white" style="font-family: 'Russo One', sans-serif;">Participantes 2026</h2>
                                <p id="participantes-subtitulo" class="text-xs text-white/50">Carregando...</p>
                            </div>
                        </div>
                        <button onclick="fecharParticipantes2026()" class="p-2 rounded-full hover:bg-white/10 transition-colors">
                            <span class="material-icons text-white/60">close</span>
                        </button>
                    </div>
                </div>

                <!-- Lista de Participantes (Scroll) -->
                <div id="lista-participantes-2026" class="flex-1 overflow-y-auto p-4 space-y-2">
                    <!-- Loading state -->
                    <div class="flex items-center justify-center py-8">
                        <div class="animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"></div>
                    </div>
                </div>

                <!-- Footer Fixo -->
                <div class="sticky bottom-0 bg-[#0f1012] border-t border-white/10 p-3">
                    <button onclick="fecharParticipantes2026()" class="w-full py-3 rounded-xl bg-primary/20 border border-primary/30 text-primary font-medium text-sm hover:bg-primary/30 transition-colors">
                        Fechar
                    </button>
                </div>
            </div>
        </div>

        <!-- Script do Modal Participantes 2026 -->
        <script>
            // Funcoes do Modal Participantes 2026
            async function abrirParticipantes2026() {
                const modal = document.getElementById('modal-participantes-2026');
                const card = document.getElementById('participantes-card');
                if (!modal || !card) return;

                // Mostrar modal
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    card.classList.remove('scale-95', 'opacity-0');
                }, 10);

                // Carregar participantes
                await carregarParticipantes2026();
            }

            function fecharParticipantes2026() {
                const modal = document.getElementById('modal-participantes-2026');
                const card = document.getElementById('participantes-card');
                if (!modal || !card) return;

                modal.classList.add('opacity-0');
                card.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            async function carregarParticipantes2026() {
                const lista = document.getElementById('lista-participantes-2026');
                const subtitulo = document.getElementById('participantes-subtitulo');

                try {
                    // Obter ligaId do contexto
                    const ligaId = window.participanteAuth?.ligaId;
                    if (!ligaId) {
                        lista.innerHTML = '<p class="text-center text-white/50 py-8">Liga nao identificada</p>';
                        return;
                    }

                    // ‚úÖ v2.0 FIX: Usar mesma API do admin para consist√™ncia
                    // Buscar participantes ativos da temporada (exclui nao_participa automaticamente)
                    let participantes = [];
                    let fonte = 'api';
                    const temporada = window.ParticipanteConfig?.CURRENT_SEASON || 2026;

                    try {
                        const response = await fetch(`/api/ligas/${ligaId}/participantes?temporada=${temporada}`);
                        const data = await response.json();
                        if (data.participantes?.length) {
                            // Filtrar apenas ativos (renovado ou novo) - mesmo filtro do admin
                            participantes = data.participantes
                                .filter(p => p.ativo !== false && p.status !== 'nao_participa')
                                .map(p => ({
                                    time_id: p.time_id,
                                    nome_cartola: p.nome_cartoleiro || p.nome_cartola || 'Sem nome',
                                    nome_time: p.nome_time || 'Sem time',
                                    clube_id: p.clube_id || 'default'
                                }));
                            fonte = data.fonte || 'api';
                        }
                    } catch (err) {
                        console.warn('[PARTICIPANTES] API participantes falhou, usando fallback');
                    }

                    // FALLBACK: Buscar de liga.participantes se API falhar
                    if (!participantes.length) {
                        fonte = 'liga-cache';
                        const liga = window.participanteAuth?.liga;
                        if (liga?.participantes?.length) {
                            participantes = liga.participantes
                                .filter(p => p.ativo !== false)
                                .map(p => ({
                                    time_id: p.time_id,
                                    nome_cartola: p.nome_cartola || p.nome_cartoleiro || 'Sem nome',
                                    nome_time: p.nome_time || 'Sem time',
                                    clube_id: p.clube_id || 'default'
                                }));
                        }
                    }

                    if (!participantes.length) {
                        lista.innerHTML = '<p class="text-center text-white/50 py-8">Nenhum participante na liga</p>';
                        subtitulo.textContent = '0 participantes';
                        return;
                    }

                    // Ordenar alfabeticamente pelo nome do participante
                    participantes.sort((a, b) =>
                        (a.nome_cartola || '').localeCompare(b.nome_cartola || '', 'pt-BR')
                    );

                    // Atualizar subtitulo
                    subtitulo.textContent = `${participantes.length} participantes`;
                    console.log(`[PARTICIPANTES] ${participantes.length} carregados (fonte: ${fonte})`);

                    // Renderizar lista com escudo do time do coracao
                    // ‚úÖ v2.1: Clique abre escala√ß√£o do participante
                    lista.innerHTML = participantes.map(p => {
                        const clubeId = p.clube_id || 'default';
                        const escudoUrl = `/escudos/${clubeId}.png`;
                        const nomeEscapado = (p.nome_cartola || '').replace(/'/g, "\\'").replace(/"/g, "&quot;");
                        const timeEscapado = (p.nome_time || '').replace(/'/g, "\\'").replace(/"/g, "&quot;");
                        return `
                            <div class="flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 cursor-pointer hover:bg-white/10 active:scale-[0.98] transition-all"
                                 onclick="abrirEscalacaoParticipante(${p.time_id}, '${nomeEscapado}', '${timeEscapado}')">
                                <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0 overflow-hidden">
                                    <img src="${escudoUrl}"
                                         alt="Escudo"
                                         class="w-8 h-8 object-contain"
                                         onerror="this.src='/escudos/default.png'">
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm font-semibold text-white truncate">${p.nome_cartola}</p>
                                    <p class="text-xs text-white/50 truncate">${p.nome_time}</p>
                                </div>
                                <span class="material-icons text-white/30 text-lg">chevron_right</span>
                            </div>
                        `;
                    }).join('');

                } catch (error) {
                    console.error('[PARTICIPANTES] Erro ao carregar:', error);
                    lista.innerHTML = '<p class="text-center text-red-400 py-8">Erro ao carregar participantes</p>';
                }
            }

            // Fechar modal ao clicar fora
            document.getElementById('modal-participantes-2026')?.addEventListener('click', function(e) {
                if (e.target === this) fecharParticipantes2026();
            });

            // Expor globalmente
            window.abrirParticipantes2026 = abrirParticipantes2026;
            window.fecharParticipantes2026 = fecharParticipantes2026;

            console.log('[PARTICIPANTES] Modal Participantes 2026 carregado');

            // Fun√ß√£o global "Aguarde..." para cards n√£o-premium
            window.mostrarAguarde = function(nomeCard) {
                const toast = document.createElement('div');
                toast.className = 'aguarde-toast';
                toast.innerHTML = `
                    <span class="material-icons" style="font-size:20px;color:#ff6d00;">lock</span>
                    <span><strong>${nomeCard}</strong> ‚Äî Aguarde...</span>
                `;
                document.body.appendChild(toast);
                requestAnimationFrame(() => toast.classList.add('aguarde-toast-show'));
                setTimeout(() => {
                    toast.classList.remove('aguarde-toast-show');
                    setTimeout(() => toast.remove(), 350);
                }, 2200);
            };
        </script>

        <style>
            .aguarde-toast {
                position: fixed;
                bottom: 90px;
                left: 50%;
                transform: translateX(-50%) translateY(20px);
                background: #1e1e1e;
                border: 1px solid rgba(255, 109, 0, 0.3);
                border-radius: 12px;
                padding: 12px 20px;
                display: flex;
                align-items: center;
                gap: 10px;
                color: #e0e0e0;
                font-family: 'Inter', sans-serif;
                font-size: 14px;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease, transform 0.3s ease;
                box-shadow: 0 4px 20px rgba(0,0,0,0.5);
                pointer-events: none;
            }
            .aguarde-toast-show {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        </style>

        <!-- Modal Escalacao Participante -->
        <div id="modal-escalacao-participante" class="fixed inset-0 z-50 hidden opacity-0 transition-opacity duration-300"
             style="background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); z-index: 10001;">
            <div id="escalacao-card" class="absolute inset-x-4 top-1/2 -translate-y-1/2 max-w-md mx-auto bg-[#0f1012] rounded-2xl border border-white/10 shadow-2xl overflow-hidden scale-95 opacity-0 transition-all duration-300 max-h-[85vh] flex flex-col">

                <!-- Header Fixo -->
                <div class="sticky top-0 bg-[#0f1012] border-b border-white/10 z-10">
                    <div class="h-1 w-full bg-gradient-to-r from-primary to-orange-400"></div>
                    <div class="p-4 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div id="escalacao-escudo" class="w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center overflow-hidden">
                                <span class="material-icons text-xl text-primary">sports_soccer</span>
                            </div>
                            <div>
                                <h2 id="escalacao-nome" class="text-lg font-bold text-white" style="font-family: 'Russo One', sans-serif;">Escalacao</h2>
                                <p id="escalacao-subtitulo" class="text-xs text-white/50">Carregando...</p>
                            </div>
                        </div>
                        <button onclick="fecharEscalacaoParticipante()" class="p-2 rounded-full hover:bg-white/10 transition-colors">
                            <span class="material-icons text-white/60">close</span>
                        </button>
                    </div>
                </div>

                <!-- Conteudo da Escalacao (Scroll) -->
                <div id="escalacao-conteudo" class="flex-1 overflow-y-auto p-4">
                    <div class="flex items-center justify-center py-8">
                        <div class="animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full"></div>
                    </div>
                </div>

                <!-- Footer com Pontuacao Total -->
                <div id="escalacao-footer" class="sticky bottom-0 bg-[#0f1012] border-t border-white/10 p-3 hidden">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-white/60">Pontuacao Total</span>
                        <span id="escalacao-pontos-total" class="text-xl font-bold text-primary" style="font-family: 'JetBrains Mono', monospace;">0.00</span>
                    </div>
                </div>
            </div>
        </div>

        <script>
        // =====================================================================
        // MODAL ESCALACAO PARTICIPANTE - v1.0
        // =====================================================================

        const POSICOES_CARTOLA = {
            1: { nome: 'Goleiro', abrev: 'GOL', icone: 'sports_soccer', ordem: 1 },
            2: { nome: 'Lateral', abrev: 'LAT', icone: 'directions_run', ordem: 3 },
            3: { nome: 'Zagueiro', abrev: 'ZAG', icone: 'shield', ordem: 2 },
            4: { nome: 'Meia', abrev: 'MEI', icone: 'sync_alt', ordem: 4 },
            5: { nome: 'Atacante', abrev: 'ATA', icone: 'sports_score', ordem: 5 },
            6: { nome: 'Tecnico', abrev: 'TEC', icone: 'person', ordem: 6 }
        };

        let escalacaoCache = {};

        async function abrirEscalacaoParticipante(timeId, nomeCartola, nomeTime) {
            const modal = document.getElementById('modal-escalacao-participante');
            const card = document.getElementById('escalacao-card');
            const conteudo = document.getElementById('escalacao-conteudo');
            const footer = document.getElementById('escalacao-footer');
            const nomeEl = document.getElementById('escalacao-nome');
            const subtituloEl = document.getElementById('escalacao-subtitulo');
            const escudoEl = document.getElementById('escalacao-escudo');

            if (!modal || !card) return;

            // Configurar header
            nomeEl.textContent = nomeCartola || 'Escalacao';
            subtituloEl.textContent = nomeTime || 'Carregando...';
            footer.classList.add('hidden');
            escudoEl.innerHTML = '<span class="material-icons text-xl text-primary">sports_soccer</span>';

            // Mostrar loading
            conteudo.innerHTML = `
                <div class="flex flex-col items-center justify-center py-12">
                    <div class="animate-spin w-10 h-10 border-3 border-primary border-t-transparent rounded-full mb-4"></div>
                    <p class="text-sm text-white/50">Buscando escalacao...</p>
                </div>
            `;

            // Abrir modal
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                card.classList.remove('scale-95', 'opacity-0');
            }, 10);

            try {
                // 1. Buscar status do mercado
                const statusRes = await fetch('/api/cartola/mercado-status');
                const status = await statusRes.json();
                const rodadaAtual = status.rodada_atual || 1;
                const mercadoAberto = status.status_mercado === 1;

                // 2. Verificar se mercado esta aberto
                if (mercadoAberto) {
                    conteudo.innerHTML = renderizarMercadoAberto(rodadaAtual);
                    subtituloEl.textContent = `Rodada ${rodadaAtual} - Mercado Aberto`;
                    return;
                }

                // 3. Buscar escalacao
                subtituloEl.textContent = `${nomeTime} - Rodada ${rodadaAtual}`;

                const cacheKey = `${timeId}_${rodadaAtual}`;
                let escalacao = escalacaoCache[cacheKey];

                if (!escalacao) {
                    const escalaRes = await fetch(`/api/cartola/time/${timeId}/${rodadaAtual}/escalacao`);
                    if (!escalaRes.ok) {
                        throw new Error('Escalacao nao disponivel');
                    }
                    escalacao = await escalaRes.json();
                    escalacaoCache[cacheKey] = escalacao;
                }

                // 4. Renderizar escalacao
                if (!escalacao.atletas || escalacao.atletas.length === 0) {
                    conteudo.innerHTML = renderizarSemEscalacao();
                    return;
                }

                // Atualizar escudo se disponivel
                if (escalacao.url_escudo_png) {
                    escudoEl.innerHTML = `<img src="${escalacao.url_escudo_png}" class="w-8 h-8 object-contain" onerror="this.parentElement.innerHTML='<span class=\\'material-icons text-xl text-primary\\'>sports_soccer</span>'">`;
                }

                conteudo.innerHTML = renderizarEscalacaoCompleta(escalacao);

                // Mostrar footer com pontuacao total
                const pontosTotal = escalacao.atletas.reduce((acc, a) => {
                    const pts = parseFloat(a.pontos_num) || 0;
                    return acc + (a.atleta_id === escalacao.capitao_id ? pts * 2 : pts);
                }, 0);

                document.getElementById('escalacao-pontos-total').textContent = pontosTotal.toFixed(2);
                footer.classList.remove('hidden');

            } catch (error) {
                console.error('[ESCALACAO] Erro:', error);
                conteudo.innerHTML = renderizarErroEscalacao(error.message);
            }
        }

        function fecharEscalacaoParticipante() {
            const modal = document.getElementById('modal-escalacao-participante');
            const card = document.getElementById('escalacao-card');

            if (!modal || !card) return;

            modal.classList.add('opacity-0');
            card.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        // Fechar ao clicar fora
        document.getElementById('modal-escalacao-participante')?.addEventListener('click', function(e) {
            if (e.target === this) fecharEscalacaoParticipante();
        });

        // =====================================================================
        // FUNCOES DE RENDERIZACAO
        // =====================================================================

        function renderizarMercadoAberto(rodada) {
            return `
                <div class="text-center py-12">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center">
                        <span class="material-icons text-4xl text-green-400">storefront</span>
                    </div>
                    <p class="text-white text-lg font-medium mb-2">Mercado Aberto</p>
                    <p class="text-white/50 text-sm mb-4">A escalacao sera exibida apos o fechamento do mercado</p>
                    <p class="text-xs text-white/30">Rodada ${rodada}</p>
                </div>
            `;
        }

        function renderizarSemEscalacao() {
            return `
                <div class="text-center py-12">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-500/20 flex items-center justify-center">
                        <span class="material-icons text-4xl text-yellow-400">sports_soccer</span>
                    </div>
                    <p class="text-white text-lg font-medium mb-2">Sem Escalacao</p>
                    <p class="text-white/50 text-sm">Este participante nao escalou nesta rodada</p>
                </div>
            `;
        }

        function renderizarErroEscalacao(mensagem) {
            return `
                <div class="text-center py-12">
                    <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center">
                        <span class="material-icons text-4xl text-red-400">error_outline</span>
                    </div>
                    <p class="text-white text-lg font-medium mb-2">Erro ao Carregar</p>
                    <p class="text-white/50 text-sm">${mensagem || 'Nao foi possivel carregar a escalacao'}</p>
                </div>
            `;
        }

        // v2.0: Renderiza titulares + reservas com destaque Reserva de Luxo
        function renderizarEscalacaoCompleta(escalacao) {
            // Usa arrays separados se dispon√≠veis (v2), fallback para atletas (v1)
            const titulares = escalacao.titulares || escalacao.atletas || [];
            const reservas = escalacao.reservas || [];
            const capitaoId = escalacao.capitao_id;
            const reservaLuxoId = escalacao.reserva_luxo_id;

            // Ordenar posicoes (GOL, ZAG, LAT, MEI, ATA, TEC)
            const ordemPosicoes = [1, 3, 2, 4, 5, 6];

            let html = '<div class="space-y-4">';

            // ========== TITULARES ==========
            html += `
                <div class="flex items-center gap-2 mb-3">
                    <span class="material-icons text-primary">stadium</span>
                    <span class="text-sm font-bold text-white uppercase tracking-wider">Titulares</span>
                    <span class="text-xs text-white/40">(${titulares.length})</span>
                </div>
            `;

            // Agrupar titulares por posicao
            const titularesPorPosicao = {};
            titulares.forEach(a => {
                const posId = a.posicao_id;
                if (!titularesPorPosicao[posId]) titularesPorPosicao[posId] = [];
                titularesPorPosicao[posId].push(a);
            });

            ordemPosicoes.forEach(posId => {
                const jogadores = titularesPorPosicao[posId];
                if (!jogadores || jogadores.length === 0) return;

                const posInfo = POSICOES_CARTOLA[posId] || { nome: 'Outros', abrev: '?', icone: 'person' };

                html += `
                    <div>
                        <div class="flex items-center gap-2 mb-2 px-1">
                            <span class="material-icons text-sm text-primary">${posInfo.icone}</span>
                            <span class="text-xs font-bold text-white/60 uppercase tracking-wider">${posInfo.nome}</span>
                        </div>
                        <div class="space-y-2">
                `;

                jogadores.forEach(jogador => {
                    html += renderizarJogador(jogador, capitaoId, reservaLuxoId);
                });

                html += '</div></div>';
            });

            // ========== RESERVAS ==========
            if (reservas.length > 0) {
                html += `
                    <div class="mt-6 pt-4 border-t border-white/10">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="material-icons text-purple-400">event_seat</span>
                            <span class="text-sm font-bold text-white uppercase tracking-wider">Banco de Reservas</span>
                            <span class="text-xs text-white/40">(${reservas.length})</span>
                        </div>
                        <div class="space-y-2">
                `;

                // Agrupar reservas por posicao
                const reservasPorPosicao = {};
                reservas.forEach(a => {
                    const posId = a.posicao_id;
                    if (!reservasPorPosicao[posId]) reservasPorPosicao[posId] = [];
                    reservasPorPosicao[posId].push(a);
                });

                ordemPosicoes.forEach(posId => {
                    const jogadores = reservasPorPosicao[posId];
                    if (!jogadores || jogadores.length === 0) return;

                    jogadores.forEach(jogador => {
                        html += renderizarJogador(jogador, capitaoId, reservaLuxoId, true);
                    });
                });

                html += '</div></div>';
            }

            html += '</div>';
            return html;
        }

        // Renderiza card de um jogador (titular ou reserva)
        function renderizarJogador(jogador, capitaoId, reservaLuxoId, isReserva = false) {
            const isCapitao = jogador.atleta_id === capitaoId;
            const isReservaLuxo = jogador.atleta_id === reservaLuxoId;
            const pontos = parseFloat(jogador.pontos_num) || 0;

            // Capitao 2x, Reserva Luxo 1.5x (se entrou em campo)
            let pontosExibir = pontos;
            let multiplicador = '';
            if (isCapitao) {
                pontosExibir = pontos * 2;
                multiplicador = '2x';
            } else if (isReservaLuxo && pontos !== 0) {
                // Reserva de Luxo s√≥ multiplica se entrou (pontos != 0)
                pontosExibir = pontos * 1.5;
                multiplicador = '1.5x';
            }

            const corPontos = pontos > 0 ? 'text-green-400' : pontos < 0 ? 'text-red-400' : 'text-white/50';
            const clubeId = jogador.clube_id || 'default';
            const posInfo = POSICOES_CARTOLA[jogador.posicao_id] || { nome: 'Outros', abrev: '?', icone: 'person' };

            // Estilos especiais
            let ringClass = '';
            let badgeHtml = '';
            let infoExtra = '';

            if (isCapitao) {
                ringClass = 'ring-2 ring-yellow-500/50';
                badgeHtml = `<div class="absolute -top-1 -right-1 w-5 h-5 bg-yellow-500 rounded-full flex items-center justify-center"><span class="text-[10px] font-bold text-black">C</span></div>`;
                infoExtra = ' - Capitao (2x)';
            } else if (isReservaLuxo) {
                ringClass = 'ring-2 ring-purple-500/50';
                badgeHtml = `<div class="absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-purple-500 to-amber-400 rounded-full flex items-center justify-center"><span class="text-[10px] font-bold text-black">L</span></div>`;
                infoExtra = ' - Luxo (1.5x)';
            }

            // Fundo mais escuro para reservas
            const bgClass = isReserva ? 'bg-white/3' : 'bg-white/5';

            return `
                <div class="flex items-center gap-3 p-3 rounded-xl ${bgClass} border border-white/10 ${ringClass}">
                    <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center overflow-hidden flex-shrink-0 relative">
                        <img src="/escudos/${clubeId}.png"
                             alt="Clube"
                             class="w-7 h-7 object-contain"
                             onerror="this.src='/escudos/default.png'">
                        ${badgeHtml}
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="text-sm font-semibold text-white truncate">${jogador.apelido || 'Jogador'}</p>
                        <p class="text-xs text-white/40">${posInfo.abrev}${infoExtra}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-lg font-bold ${corPontos}" style="font-family: 'JetBrains Mono', monospace;">${pontosExibir.toFixed(2)}</p>
                        ${multiplicador && pontos !== 0 ? `<p class="text-[10px] ${isCapitao ? 'text-yellow-500/70' : 'text-purple-400/70'}">(${pontos.toFixed(2)} x${multiplicador.replace('x','')})</p>` : ''}
                    </div>
                </div>
            `;
        }

        // Expor globalmente
        window.abrirEscalacaoParticipante = abrirEscalacaoParticipante;
        window.fecharEscalacaoParticipante = fecharEscalacaoParticipante;

        console.log('[ESCALACAO] Modal Escalacao Participante v2.0 carregado (c/ Reservas + Luxo)');
        </script>

        <!-- Modal Regras 2026 -->
        <div id="modal-regras-2026" class="fixed inset-0 z-50 hidden opacity-0 transition-opacity duration-300" style="background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); z-index: 10000;">
            <div id="regras-card" class="absolute inset-x-4 top-1/2 -translate-y-1/2 max-w-md mx-auto bg-[#0f1012] rounded-2xl border border-white/10 shadow-2xl overflow-hidden scale-95 opacity-0 transition-all duration-300 max-h-[80vh] flex flex-col">

                <!-- Header Fixo -->
                <div class="sticky top-0 bg-[#0f1012] border-b border-white/10 p-4 z-10">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center">
                                <span class="material-icons text-blue-400">gavel</span>
                            </div>
                            <div>
                                <h2 class="text-lg font-bold text-white" style="font-family: 'Russo One', sans-serif;">Regras 2026</h2>
                                <p id="regras-subtitulo" class="text-xs text-white/50">Configuracoes da temporada</p>
                            </div>
                        </div>
                        <button onclick="fecharRegras2026()" class="p-2 rounded-full hover:bg-white/10 transition-colors">
                            <span class="material-icons text-white/60">close</span>
                        </button>
                    </div>
                </div>

                <!-- Conteudo das Regras (Scroll) -->
                <div id="conteudo-regras-2026" class="flex-1 overflow-y-auto p-4 space-y-3">
                    <!-- Loading state -->
                    <div class="flex items-center justify-center py-8">
                        <div class="animate-spin w-8 h-8 border-2 border-blue-400 border-t-transparent rounded-full"></div>
                    </div>
                </div>

                <!-- Footer Fixo -->
                <div class="sticky bottom-0 bg-[#0f1012] border-t border-white/10 p-3">
                    <button onclick="fecharRegras2026()" class="w-full py-3 rounded-xl bg-blue-500/20 border border-blue-500/30 text-blue-400 font-medium text-sm hover:bg-blue-500/30 transition-colors">
                        Fechar
                    </button>
                </div>
            </div>
        </div>

        <!-- Script do Modal Regras 2026 -->
        <script>
            // Funcoes do Modal Regras 2026
            async function abrirRegras2026() {
                // ID da liga Super Cartola (√∫nica com regras configuradas)
                const LIGA_SUPER_CARTOLA_ID = '684cb1c8af923da7c7df51de';

                // Verificar se a liga tem regras configuradas
                const ligaId = window.participanteAuth?.ligaId;
                if (ligaId !== LIGA_SUPER_CARTOLA_ID) {
                    // Liga sem configura√ß√µes - mostrar mini-modal
                    abrirModalAguarde();
                    console.log('[REGRAS] Liga sem configura√ß√µes, exibindo modal aguarde');
                    return;
                }

                const modal = document.getElementById('modal-regras-2026');
                const card = document.getElementById('regras-card');
                const conteudo = document.getElementById('conteudo-regras-2026');
                if (!modal || !card) return;

                // Mostrar modal com loading
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    card.classList.remove('scale-95', 'opacity-0');
                }, 10);

                // Buscar dados da API
                try {
                    if (!ligaId) throw new Error('Liga nao encontrada');

                    const response = await fetch(`/api/liga-rules/${ligaId}/2026`);
                    if (!response.ok) throw new Error('Regras nao configuradas');

                    const rules = await response.json();
                    renderizarRegras(rules, conteudo);
                } catch (error) {
                    console.error('[REGRAS] Erro:', error);
                    conteudo.innerHTML = `
                        <div class="text-center py-8">
                            <span class="material-icons text-4xl text-white/30 mb-2">info</span>
                            <p class="text-white/50 text-sm">Regras ainda nao configuradas para 2026</p>
                            <p class="text-white/30 text-xs mt-1">Aguarde o administrador definir as regras</p>
                        </div>
                    `;
                }
            }

            function renderizarRegras(rules, container) {
                const inscricao = rules.inscricao || {};
                const taxa = inscricao.taxa || 0;
                const prazo = inscricao.prazo_renovacao ? new Date(inscricao.prazo_renovacao) : null;
                const prazoFormatado = prazo ? prazo.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit', year: 'numeric' }) : 'Nao definido';
                const status = rules.status || 'rascunho';

                // Status badge
                const statusConfig = {
                    'rascunho': { cor: 'bg-gray-500/20 text-gray-400 border-gray-500/30', texto: 'Rascunho' },
                    'aberto': { cor: 'bg-green-500/20 text-green-400 border-green-500/30', texto: 'Aberto' },
                    'encerrado': { cor: 'bg-red-500/20 text-red-400 border-red-500/30', texto: 'Encerrado' }
                };
                const statusBadge = statusConfig[status] || statusConfig['rascunho'];

                container.innerHTML = `
                    <!-- Status da Renovacao -->
                    <div class="flex items-center justify-between p-3 rounded-xl bg-white/5 border border-white/10">
                        <span class="text-sm text-white/70">Status Renovacao</span>
                        <span class="px-2 py-1 rounded-full text-xs font-medium border ${statusBadge.cor}">${statusBadge.texto}</span>
                    </div>

                    <!-- Taxa de Inscricao -->
                    <div class="p-4 rounded-xl bg-primary/10 border border-primary/20">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="material-icons text-primary text-xl">payments</span>
                            <span class="text-sm font-medium text-white">Taxa de Inscricao</span>
                        </div>
                        <p class="text-2xl font-bold text-primary" style="font-family: 'JetBrains Mono', monospace;">
                            R$ ${taxa.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}
                        </p>
                    </div>

                    <!-- Prazo de Renovacao -->
                    <div class="p-3 rounded-xl bg-white/5 border border-white/10">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-2">
                                <span class="material-icons text-yellow-400 text-lg">event</span>
                                <span class="text-sm text-white/70">Prazo Renovacao</span>
                            </div>
                            <span class="text-sm font-medium text-white">${prazoFormatado}</span>
                        </div>
                    </div>

                    <!-- Regras Detalhadas -->
                    <div class="space-y-2">
                        <p class="text-xs font-medium text-white/50 uppercase tracking-wide px-1">Configuracoes</p>

                        <!-- Devedor pode renovar -->
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5">
                            <div class="flex items-center gap-2">
                                <span class="material-icons text-lg ${inscricao.permitir_devedor_renovar ? 'text-green-400' : 'text-red-400'}">
                                    ${inscricao.permitir_devedor_renovar ? 'check_circle' : 'cancel'}
                                </span>
                                <span class="text-xs text-white/70">Devedor pode renovar</span>
                            </div>
                            <span class="text-xs font-medium ${inscricao.permitir_devedor_renovar ? 'text-green-400' : 'text-red-400'}">
                                ${inscricao.permitir_devedor_renovar ? 'Sim' : 'Nao'}
                            </span>
                        </div>

                        <!-- Aproveitar credito -->
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5">
                            <div class="flex items-center gap-2">
                                <span class="material-icons text-lg ${inscricao.aproveitar_saldo_positivo ? 'text-green-400' : 'text-red-400'}">
                                    ${inscricao.aproveitar_saldo_positivo ? 'check_circle' : 'cancel'}
                                </span>
                                <span class="text-xs text-white/70">Credito abate taxa</span>
                            </div>
                            <span class="text-xs font-medium ${inscricao.aproveitar_saldo_positivo ? 'text-green-400' : 'text-red-400'}">
                                ${inscricao.aproveitar_saldo_positivo ? 'Sim' : 'Nao'}
                            </span>
                        </div>

                        <!-- Parcelamento -->
                        <div class="flex items-center justify-between p-3 rounded-lg bg-white/5">
                            <div class="flex items-center gap-2">
                                <span class="material-icons text-lg ${inscricao.permitir_parcelamento ? 'text-green-400' : 'text-white/30'}">
                                    ${inscricao.permitir_parcelamento ? 'check_circle' : 'cancel'}
                                </span>
                                <span class="text-xs text-white/70">Parcelamento</span>
                            </div>
                            <span class="text-xs font-medium ${inscricao.permitir_parcelamento ? 'text-green-400' : 'text-white/50'}">
                                ${inscricao.permitir_parcelamento ? `Ate ${inscricao.max_parcelas || 1}x` : 'Nao'}
                            </span>
                        </div>
                    </div>

                    <!-- Link para Premiacoes -->
                    <button onclick="fecharRegras2026(); setTimeout(() => window.abrirPremiacoes2026 && window.abrirPremiacoes2026(), 350);"
                            class="w-full flex items-center justify-between p-3 rounded-xl bg-primary/10 border border-primary/20 hover:bg-primary/20 transition-colors">
                        <div class="flex items-center gap-2">
                            <span class="material-icons text-primary">emoji_events</span>
                            <span class="text-sm text-white">Ver Premiacoes 2026</span>
                        </div>
                        <span class="material-icons text-white/30">chevron_right</span>
                    </button>
                `;
            }

            function fecharRegras2026() {
                const modal = document.getElementById('modal-regras-2026');
                const card = document.getElementById('regras-card');
                if (!modal || !card) return;

                modal.classList.add('opacity-0');
                card.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            // Fechar modal ao clicar fora
            document.getElementById('modal-regras-2026')?.addEventListener('click', function(e) {
                if (e.target === this) fecharRegras2026();
            });

            // Expor globalmente
            window.abrirRegras2026 = abrirRegras2026;
            window.fecharRegras2026 = fecharRegras2026;

            console.log('[REGRAS] Modal Regras 2026 carregado');
        </script>
    </body>
</html>
