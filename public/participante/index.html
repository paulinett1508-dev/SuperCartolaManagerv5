<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Painel - Cartola</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="css/participante.css">
</head>
<body>
    <div class="participante-container">
        <!-- DASHBOARD HEADER - MOBILE-FIRST UX CLEAN -->
        <header class="participante-header" style="display: flex; flex-direction: column; background: linear-gradient(135deg, #FF6B35 0%, #FF5722 100%); box-shadow: 0 4px 20px rgba(255, 107, 53, 0.5); border-bottom: 3px solid #FF8C42;">
            <!-- LINHA 1: PRIMÃRIA (SEMPRE VISÃVEL) -->
            <div class="header-content" style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; min-height: 56px; gap: 12px; align-items: center;">
                <!-- Escudos + Info -->
                <div style="display: flex; align-items: center; gap: 12px; flex: 1; min-width: 0;">
                    <div class="escudos-container" style="display: flex; gap: 8px; flex-shrink: 0;">
                        <div class="escudo-wrapper" title="Time do CoraÃ§Ã£o">
                            <img id="escudoCoracao" class="escudo-coracao" src="/escudos/placeholder.png" alt="Clube do CoraÃ§Ã£o" style="width: 44px; height: 44px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">
                        </div>
                        <div class="escudo-wrapper" title="Escudo do Time">
                            <img id="escudoTime" class="escudo-time" src="/escudos/placeholder.png" alt="Escudo Time" style="width: 44px; height: 44px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">
                        </div>
                    </div>

                    <!-- InformaÃ§Ãµes do Participante -->
                    <div class="participante-info" style="flex: 1; min-width: 0;">
                        <h1 id="nomeTime" style="margin: 0; font-size: 18px; font-weight: 700; color: white; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">Carregando...</h1>
                        <p id="nomeCartoleiro" style="margin: 0; font-size: 13px; opacity: 0.9; color: white;">
                            <span class="cartoleiro-icon">ğŸ‘¤</span>
                            <span id="nomeCartolaText">Aguarde...</span>
                        </p>
                    </div>
                </div>

                <!-- BotÃµes: Home + Menu Toggle -->
                <div style="display: flex; gap: 10px; flex-shrink: 0; align-items: center;">
                    <button onclick="participanteNav?.navegarPara('boas-vindas')" title="Home" style="width: 44px; height: 44px; border-radius: 8px; border: 2px solid rgba(59, 130, 246, 0.4); background: rgba(59, 130, 246, 0.15); color: #3b82f6; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; flex-shrink: 0;">
                        ğŸ 
                    </button>
                    <button id="headerMenuToggle" title="Menu" style="width: 44px; height: 44px; border-radius: 8px; border: 2px solid rgba(255, 255, 255, 0.3); background: rgba(255, 255, 255, 0.1); color: white; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; flex-shrink: 0;">
                        â˜°
                    </button>
                </div>
            </div>

            <!-- LINHA 2: SECUNDÃRIA (COLAPSÃVEL) -->
            <div id="headerSecondary" style="max-height: 0; overflow: hidden; transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1); background: rgba(0, 0, 0, 0.2);">
                <div class="header-bottom" style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; gap: 12px; flex-wrap: wrap; min-height: 50px;">
                    <div id="statusConexao" style="display: flex; align-items: center; gap: 6px; padding: 6px 12px; background: rgba(255, 255, 255, 0.1); border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.2); font-size: 13px; color: white; white-space: nowrap; flex-shrink: 0;">
                        <span id="statusIndicador" style="width: 8px; height: 8px; border-radius: 50%; background: #22c55e; animation: pulse 2s infinite;"></span>
                        <span id="statusTexto">Online</span>
                    </div>

                    <!-- Seletor de Liga -->
                    <div id="seletorLigaContainer" style="flex: 0 1 140px;">
                        <select id="seletorLiga" style="width: 100%; padding: 8px 12px; border-radius: 6px; border: 2px solid rgba(255, 255, 255, 0.2); background: rgba(0, 0, 0, 0.3); color: white; font-size: 13px; font-weight: 600; cursor: pointer;">
                        </select>
                    </div>

                    <!-- BotÃ£o Logout -->
                    <button onclick="logout()" title="Logout" style="background: rgba(255, 69, 0, 0.15); border: 2px solid rgba(255, 69, 0, 0.4); color: #ff6b35; font-size: 13px; font-weight: 600; padding: 8px 14px; border-radius: 6px; cursor: pointer; width: auto; height: 36px; white-space: nowrap; transition: all 0.3s ease; flex-shrink: 0;">
                        ğŸšª Logout
                    </button>
                </div>
            </div>

            <style>
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.6; }
                }
                #headerSecondary.active {
                    max-height: 120px;
                }

                /* RESPONSIVIDADE MOBILE CRÃTICA */
                @media (max-width: 768px) {
                    .header-content {
                        padding: 10px 12px !important;
                        min-height: 52px !important;
                        gap: 10px !important;
                    }
                    #nomeTime {
                        font-size: 16px !important;
                        line-height: 1.2;
                    }
                    #nomeCartoleiro {
                        font-size: 12px !important;
                    }
                    .escudos-container {
                        gap: 10px !important;
                    }
                    .escudos-container img {
                        width: 40px !important;
                        height: 40px !important;
                    }
                    .header-content > div:last-child {
                        gap: 10px !important;
                    }
                }

                @media (max-width: 480px) {
                    .header-content {
                        padding: 8px 10px !important;
                        min-height: 48px !important;
                        gap: 8px !important;
                    }
                    #nomeTime {
                        font-size: 15px !important;
                    }
                    #nomeCartoleiro {
                        font-size: 11px !important;
                    }
                    .escudos-container {
                        gap: 8px !important;
                    }
                    .escudos-container img {
                        width: 38px !important;
                        height: 38px !important;
                        border: 2px solid white !important;
                    }
                    .header-content > div:last-child {
                        gap: 8px !important;
                    }
                    .header-content > div:last-child button {
                        width: 40px !important;
                        height: 40px !important;
                        font-size: 18px !important;
                    }
                    #headerMenuToggle {
                        font-size: 20px !important;
                    }
                }

                @media (max-width: 360px) {
                    .header-content {
                        padding: 6px 8px !important;
                        min-height: 44px !important;
                        gap: 6px !important;
                    }
                    .escudos-container {
                        gap: 6px !important;
                    }
                    .escudos-container img {
                        width: 36px !important;
                        height: 36px !important;
                        border: 2px solid white !important;
                    }
                    #nomeTime {
                        font-size: 14px !important;
                    }
                    .header-content > div:last-child button {
                        width: 38px !important;
                        height: 38px !important;
                        font-size: 16px !important;
                    }
                }
            </style>
        </header>

        <!-- SCRIPT: Toggle Menu -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const toggle = document.getElementById('headerMenuToggle');
                const secondary = document.getElementById('headerSecondary');
                if (toggle && secondary) {
                    toggle.addEventListener('click', () => {
                        secondary.classList.toggle('active');
                        toggle.style.transform = secondary.classList.contains('active') ? 'rotate(90deg)' : 'rotate(0deg)';
                    });
                    secondary.querySelectorAll('button, select').forEach(btn => {
                        btn.addEventListener('click', () => {
                            secondary.classList.remove('active');
                            toggle.style.transform = 'rotate(0deg)';
                        });
                    });
                }
            });
        </script>

        <!-- Menu de NavegaÃ§Ã£o -->
        <nav class="participante-nav">
            <button class="nav-btn active" data-module="extrato">ğŸ’° Extrato</button>
            <button class="nav-btn" data-module="ranking">ğŸ“Š ClassificaÃ§Ã£o</button>
            <button class="nav-btn" data-module="rodadas">ğŸ¯ Minhas Rodadas</button>
            <button class="nav-btn" data-module="top10">ğŸ† Top 10</button>
            <button class="nav-btn" data-module="melhor-mes">ğŸ“… Melhor do MÃªs</button>
            <button class="nav-btn" data-module="pontos-corridos">âš½ Pontos Corridos</button>
            <button class="nav-btn" data-module="mata-mata">âš”ï¸ Mata-Mata</button>
            <button class="nav-btn" data-module="artilheiro">ğŸ¥‡ Artilheiro</button>
            <button class="nav-btn" data-module="luva-ouro">ğŸ¥… Luva de Ouro</button>
        </nav>

        <!-- Container para mÃ³dulos -->
        <main id="moduleContainer" class="module-container">
            <!-- ConteÃºdo carregado dinamicamente -->
        </main>
    </div>

    <!-- Core Systems com ES6 Modules -->
    <script type="module" src="/js/core/cache-manager.js"></script>
    <script type="module" src="/js/core/api-client.js"></script>

    <!-- Scripts participante (variÃ¡veis globais, nÃ£o mÃ³dulos ES6) -->
    <script src="js/participante-auth.js"></script>
    <script src="js/participante-navigation.js"></script>
    <script src="js/participante-status.js"></script>
</body>
</html>