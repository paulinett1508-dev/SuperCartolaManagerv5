<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Painel - Cartola</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="css/participante.css">
</head>
<body>
    <div class="participante-container">
        <!-- HEADER PARTICIPANTE - REDESIGN PROFISSIONAL -->
        <header class="participante-header" style="background: linear-gradient(135deg, #FF6B35 0%, #FF5722 100%); box-shadow: 0 4px 20px rgba(255, 107, 53, 0.5); border-bottom: 3px solid #FF8C42;">
            <!-- LINHA PRINCIPAL: INFO + A√á√ïES -->
            <div class="header-main" style="display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; gap: 16px;">
                
                <!-- ESQUERDA: Escudo Cora√ß√£o + Info Participante -->
                <div style="display: flex; align-items: center; gap: 12px; flex: 1; min-width: 0;">
                    <!-- Escudo do Time do Cora√ß√£o (destaque √† esquerda) -->
                    <img id="escudoCoracao" src="/escudos/placeholder.png" alt="Clube do Cora√ß√£o" 
                         style="width: 50px; height: 50px; border-radius: 50%; border: 3px solid white; 
                                box-shadow: 0 3px 12px rgba(0, 0, 0, 0.4); flex-shrink: 0;">
                    
                    <!-- Info do Participante -->
                    <div style="flex: 1; min-width: 0;">
                        <h1 id="nomeTime" style="margin: 0 0 3px 0; font-size: 17px; font-weight: 700; 
                                                  color: white; line-height: 1.2; overflow: hidden; 
                                                  text-overflow: ellipsis; white-space: nowrap;">
                            Carregando...
                        </h1>
                        <p id="nomeCartoleiro" style="margin: 0; font-size: 13px; color: rgba(255, 255, 255, 0.9); 
                                                      display: flex; align-items: center; gap: 5px; 
                                                      overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                            <span style="font-size: 11px;">üë§</span>
                            <span id="nomeCartolaText">Aguarde...</span>
                        </p>
                    </div>
                </div>

                <!-- DIREITA: Escudo Time Cartola + Bot√µes -->
                <div style="display: flex; align-items: center; gap: 12px; flex-shrink: 0;">
                    <!-- Escudo do Time (Cartola) -->
                    <img id="escudoTime" src="/escudos/placeholder.png" alt="Escudo Time" 
                         style="width: 44px; height: 44px; border-radius: 50%; border: 2.5px solid white; 
                                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); flex-shrink: 0;">
                    
                    <!-- Bot√£o Home -->
                    <button onclick="participanteNav?.navegarPara('boas-vindas')" title="In√≠cio" 
                            style="width: 44px; height: 44px; border-radius: 8px; 
                                   border: 2px solid rgba(255, 255, 255, 0.3); 
                                   background: rgba(255, 255, 255, 0.15); color: white; 
                                   font-size: 20px; cursor: pointer; display: flex; 
                                   align-items: center; justify-content: center; 
                                   transition: all 0.2s ease; flex-shrink: 0;">
                        üè†
                    </button>
                    
                    <!-- Bot√£o Menu -->
                    <button id="headerMenuToggle" title="Menu" 
                            style="width: 44px; height: 44px; border-radius: 8px; 
                                   border: 2px solid rgba(255, 255, 255, 0.3); 
                                   background: rgba(255, 255, 255, 0.15); color: white; 
                                   font-size: 22px; cursor: pointer; display: flex; 
                                   align-items: center; justify-content: center; 
                                   transition: all 0.2s ease; flex-shrink: 0;">
                        ‚ò∞
                    </button>
                </div>
            </div>

            <!-- LINHA SECUND√ÅRIA: Status + Liga + Logout (COLAPS√ÅVEL) -->
            <div id="headerSecondary" style="max-height: 0; overflow: hidden; 
                                             transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
                                             background: rgba(0, 0, 0, 0.25);">
                <div style="display: flex; align-items: center; justify-content: space-between; 
                           padding: 12px 16px; gap: 10px; flex-wrap: wrap;">
                    
                    <!-- Status Online -->
                    <div id="statusConexao" style="display: flex; align-items: center; gap: 6px; 
                                                   padding: 6px 12px; background: rgba(255, 255, 255, 0.1); 
                                                   border-radius: 20px; font-size: 12px; color: white; 
                                                   white-space: nowrap; flex-shrink: 0;">
                        <span id="statusIndicador" style="width: 7px; height: 7px; border-radius: 50%; 
                                                          background: #22c55e; animation: pulse 2s infinite;"></span>
                        <span id="statusTexto">Online</span>
                    </div>

                    <!-- Seletor de Liga -->
                    <select id="seletorLiga" style="flex: 0 1 160px; padding: 8px 12px; border-radius: 6px; 
                                                    border: 2px solid rgba(255, 255, 255, 0.2); 
                                                    background: rgba(0, 0, 0, 0.3); color: white; 
                                                    font-size: 13px; font-weight: 600; cursor: pointer;">
                    </select>

                    <!-- Bot√£o Logout -->
                    <button onclick="logout()" title="Sair" 
                            style="background: rgba(255, 255, 255, 0.15); 
                                   border: 2px solid rgba(255, 255, 255, 0.3); 
                                   color: white; font-size: 13px; font-weight: 700; 
                                   padding: 8px 16px; border-radius: 6px; cursor: pointer; 
                                   white-space: nowrap; transition: all 0.2s ease; flex-shrink: 0;">
                        üö™ Sair
                    </button>
                </div>
            </div>

            <style>
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.5; }
                }
                
                #headerSecondary.active {
                    max-height: 100px;
                }

                /* Hover states para desktop */
                @media (hover: hover) {
                    .header-main button:hover {
                        background: rgba(255, 255, 255, 0.25) !important;
                        transform: translateY(-1px);
                    }
                }

                /* Mobile: 768px e abaixo */
                @media (max-width: 768px) {
                    .header-main {
                        padding: 12px 14px !important;
                    }
                    #escudoCoracao {
                        width: 46px !important;
                        height: 46px !important;
                    }
                    #escudoTime {
                        width: 40px !important;
                        height: 40px !important;
                    }
                    #nomeTime {
                        font-size: 16px !important;
                    }
                    #nomeCartoleiro {
                        font-size: 12px !important;
                    }
                }

                /* Mobile pequeno: 480px e abaixo */
                @media (max-width: 480px) {
                    .header-main {
                        padding: 10px 12px !important;
                        gap: 12px !important;
                    }
                    #escudoCoracao {
                        width: 42px !important;
                        height: 42px !important;
                    }
                    #escudoTime {
                        width: 38px !important;
                        height: 38px !important;
                    }
                    .header-main button {
                        width: 40px !important;
                        height: 40px !important;
                        font-size: 18px !important;
                    }
                    #nomeTime {
                        font-size: 15px !important;
                    }
                    #nomeCartoleiro {
                        font-size: 11px !important;
                    }
                }

                /* Mobile muito pequeno: 360px e abaixo */
                @media (max-width: 360px) {
                    .header-main {
                        padding: 8px 10px !important;
                        gap: 10px !important;
                    }
                    #escudoCoracao {
                        width: 38px !important;
                        height: 38px !important;
                        border-width: 2px !important;
                    }
                    #escudoTime {
                        width: 36px !important;
                        height: 36px !important;
                        border-width: 2px !important;
                    }
                    .header-main button {
                        width: 38px !important;
                        height: 38px !important;
                        font-size: 16px !important;
                    }
                    #nomeTime {
                        font-size: 14px !important;
                    }
                    #nomeCartoleiro {
                        font-size: 10px !important;
                    }
                }
            </style>
        </header>

        <!-- SCRIPT: Toggle Menu -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const toggle = document.getElementById('headerMenuToggle');
                const secondary = document.getElementById('headerSecondary');
                if (toggle && secondary) {
                    toggle.addEventListener('click', () => {
                        secondary.classList.toggle('active');
                        toggle.style.transform = secondary.classList.contains('active') ? 'rotate(90deg)' : 'rotate(0deg)';
                    });
                    secondary.querySelectorAll('button, select').forEach(btn => {
                        btn.addEventListener('click', () => {
                            secondary.classList.remove('active');
                            toggle.style.transform = 'rotate(0deg)';
                        });
                    });
                }
            });
        </script>

        <!-- Menu de Navega√ß√£o -->
        <nav class="participante-nav">
            <button class="nav-btn active" data-module="extrato">üí∞ Extrato</button>
            <button class="nav-btn" data-module="ranking">üìä Classifica√ß√£o</button>
            <button class="nav-btn" data-module="rodadas">üéØ Minhas Rodadas</button>
            <button class="nav-btn" data-module="top10">üèÜ Top 10</button>
            <button class="nav-btn" data-module="melhor-mes">üìÖ Melhor do M√™s</button>
            <button class="nav-btn" data-module="pontos-corridos">‚öΩ Pontos Corridos</button>
            <button class="nav-btn" data-module="mata-mata">‚öîÔ∏è Mata-Mata</button>
            <button class="nav-btn" data-module="artilheiro">ü•á Artilheiro</button>
            <button class="nav-btn" data-module="luva-ouro">ü•Ö Luva de Ouro</button>
        </nav>

        <!-- Container para m√≥dulos -->
        <main id="moduleContainer" class="module-container">
            <!-- Conte√∫do carregado dinamicamente -->
        </main>
    </div>

    <!-- Core Systems com ES6 Modules -->
    <script type="module" src="/js/core/cache-manager.js"></script>
    <script type="module" src="/js/core/api-client.js"></script>

    <!-- Scripts participante (vari√°veis globais, n√£o m√≥dulos ES6) -->
    <script src="js/participante-auth.js"></script>
    <script src="js/participante-navigation.js"></script>
    <script src="js/participante-status.js"></script>
</body>
</html>