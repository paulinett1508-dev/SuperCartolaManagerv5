<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Análises IA - Super Cartola Manager</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="css/_admin-tokens.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="css/modules/dashboard-redesign.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Russo+One&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="css/modules/super-modal.css" />
    <script src="js/super-modal.js"></script>
    <link rel="stylesheet" href="css/modules/admin-analises-ia.css" />
</head>
<body>
    <div id="sidebar-placeholder"></div>
    <main class="app-main admin-page">
    <div class="admin-content">
        <!-- Header -->
        <div class="admin-header">
            <h1>
                <span class="material-icons">psychology</span>
                Análises IA
            </h1>
            <p>Solicite análises inteligentes usando Claude (Anthropic)</p>
        </div>

        <!-- Rate Limit Info -->
        <div class="rate-limit-info" id="rateLimitInfo">
            <strong>Limites de uso:</strong> Carregando...
        </div>

        <!-- Formulário de Nova Análise -->
        <div class="analise-form">
            <h3 style="margin-top: 0; color: var(--text-primary);">
                <span class="material-icons" style="vertical-align: middle; color: var(--ia-accent);">add_circle</span>
                Nova Análise
            </h3>
            <form id="formNovaAnalise">
                <div class="form-group">
                    <label for="tipoAnalise">Tipo de Análise</label>
                    <select id="tipoAnalise" required>
                        <option value="">Selecione...</option>
                        <option value="financeiro-auditoria">Auditoria Financeira</option>
                        <option value="performance-participante">Performance de Participante</option>
                        <option value="comportamento-liga">Comportamento da Liga</option>
                        <option value="diagnostico-sistema">Diagnóstico de Sistema</option>
                        <option value="generico">Análise Genérica</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="contextoAnalise">Contexto (JSON ou texto livre)</label>
                    <textarea
                        id="contextoAnalise"
                        placeholder='Ex: {"timeId": "123", "periodo": "últimas 5 rodadas"}'
                        required
                    ></textarea>
                </div>

                <button type="submit" class="btn btn-primary" id="btnSolicitar">
                    <span class="material-icons">smart_toy</span>
                    Solicitar Análise
                </button>
            </form>
        </div>

        <!-- Loading -->
        <div class="loading-spinner" id="loadingSpinner">
            <div class="spinner"></div>
            <p style="color: var(--text-muted); margin-top: 16px;">Processando análise...</p>
        </div>

        <!-- Histórico -->
        <div class="historico-section">
            <h2>
                <span class="material-icons">history</span>
                Histórico de Análises
            </h2>
            <div id="historicoContainer">
                <div class="empty-state">
                    <div class="material-icons">inbox</div>
                    <p>Nenhuma análise encontrada</p>
                </div>
            </div>
        </div>
    </div>
    </main>

    <script src="js/admin-shell.js"></script>
    <script src="js/admin/modules/admin-analises-ia.js" type="module"></script>
</body>
</html>
