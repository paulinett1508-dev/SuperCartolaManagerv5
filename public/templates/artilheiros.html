<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Artilheiros - Super Cartola Manager</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <style>
      .table-artilheiros th,
      .table-artilheiros td {
        text-align: center;
      }
      .primeiro-lugar {
        background-color: rgba(255, 215, 0, 0.2);
        font-weight: bold;
      }
      .segundo-lugar {
        background-color: rgba(192, 192, 192, 0.2);
        font-weight: bold;
      }
      .terceiro-lugar {
        background-color: rgba(205, 127, 50, 0.2);
        font-weight: bold;
      }
      .total-column {
        font-weight: bold;
        background-color: rgba(0, 123, 255, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Menu Lateral -->
        <div class="col-md-2 sidebar">
          <div class="sidebar-header">
            <h3>Super Cartola</h3>
          </div>
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link" href="index.html">
                <i class="bi bi-house"></i> Inu00edcio
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="ligas.html">
                <i class="bi bi-trophy"></i> Ligas
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="gols.html">
                <i class="bi bi-bullseye"></i> Gols
              </a>
            </li>
          </ul>
        </div>

        <!-- Conteu00fado Principal -->
        <div class="col-md-10 main-content">
          <div class="content-header">
            <h2>Artilheiros - Cartoleiros Sobral 2025</h2>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="d-flex justify-content-between align-items-center">
                <h5>Somatu00f3rio de Gols por Cartoleiro</h5>
                <a href="gols.html" class="btn btn-outline-primary btn-sm">
                  <i class="bi bi-arrow-left"></i> Voltar
                </a>
              </div>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table
                  class="table table-striped table-hover table-artilheiros"
                >
                  <thead>
                    <tr>
                      <th>Posiu00e7u00e3o</th>
                      <th>Cartoleiro</th>
                      <th id="rodadas-header">
                        <!-- Rodadas seru00e3o inseridas aqui -->
                      </th>
                      <th>Total</th>
                    </tr>
                  </thead>
                  <tbody id="tabelaArtilheiros">
                    <!-- Os dados seru00e3o preenchidos dinamicamente -->
                  </tbody>
                </table>
              </div>
              <div id="semDados" class="alert alert-info d-none">
                Nenhum dado de artilharia disponu00edvel.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Carregar os dados de artilheiros
        carregarArtilheiros();
      });

      // Funu00e7u00e3o para carregar os artilheiros
      async function carregarArtilheiros() {
        try {
          const ligaId = "6818c6125b30e1ad70847192"; // ID da liga Cartoleiros Sobral 2025
          const response = await fetch(
            `/api/gols/artilheiros?ligaId=${ligaId}`,
          );
          const data = await response.json();

          if (data.success && data.data) {
            const { rodadas, artilheiros } = data.data;

            // Preencher cabeu00e7alho com rodadas
            const rodadasHeader = document.getElementById("rodadas-header");
            rodadasHeader.colSpan = rodadas.length;
            rodadasHeader.textContent = "Rodadas";

            // Criar cabeu00e7alhos para cada rodada
            const headerRow = document.createElement("tr");
            headerRow.innerHTML = "<th></th><th></th>";

            rodadas.forEach((rodada) => {
              const th = document.createElement("th");
              th.textContent = rodada;
              headerRow.appendChild(th);
            });

            headerRow.innerHTML += "<th></th>";
            document
              .querySelector(".table-artilheiros thead")
              .appendChild(headerRow);

            // Preencher tabela com artilheiros
            const tabelaArtilheiros =
              document.getElementById("tabelaArtilheiros");
            tabelaArtilheiros.innerHTML = "";

            artilheiros.forEach((artilheiro, index) => {
              const row = document.createElement("tr");

              // Adicionar classe para destacar os tru00eas primeiros
              if (index === 0) row.classList.add("primeiro-lugar");
              else if (index === 1) row.classList.add("segundo-lugar");
              else if (index === 2) row.classList.add("terceiro-lugar");

              // Posiu00e7u00e3o
              const posicaoCell = document.createElement("td");
              posicaoCell.textContent = index + 1;
              row.appendChild(posicaoCell);

              // Nome do cartoleiro
              const nomeCell = document.createElement("td");
              nomeCell.textContent = artilheiro.nome;
              row.appendChild(nomeCell);

              // Gols por rodada
              artilheiro.golsPorRodada.forEach((gols) => {
                const golsCell = document.createElement("td");
                golsCell.textContent = gols;
                row.appendChild(golsCell);
              });

              // Total
              const totalCell = document.createElement("td");
              totalCell.textContent = artilheiro.total;
              totalCell.classList.add("total-column");
              row.appendChild(totalCell);

              tabelaArtilheiros.appendChild(row);
            });

            document.getElementById("semDados").classList.add("d-none");
          } else {
            document.getElementById("semDados").classList.remove("d-none");
          }
        } catch (error) {
          console.error("Erro ao carregar artilheiros:", error);
          document.getElementById("semDados").classList.remove("d-none");
          document.getElementById("semDados").textContent =
            "Erro: " + error.message;
        }
      }
    </script>
  </body>
</html>
