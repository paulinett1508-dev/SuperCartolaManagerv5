{
  "id": "melhor_mes",
  "nome": "Melhor do Mês",
  "descricao": "Competição mensal dividida em 7 edições ao longo da temporada. O campeão de cada edição é premiado.",
  "tipo": "competicao_periodica",
  "status": "ativo",
  "versao": "1.0.0",

  "configuracao": {
    "ligas_habilitadas": ["684cb1c8af923da7c7df51de", "684d821cf1a7ae16d1f89572"],
    "modulo_ativo": true,
    "temporada": 2025
  },

  "calendario": {
    "edicoes": [
      { "id": 1, "nome": "Edição 01", "inicio": 1, "fim": 6 },
      { "id": 2, "nome": "Edição 02", "inicio": 7, "fim": 10 },
      { "id": 3, "nome": "Edição 03", "inicio": 11, "fim": 17 },
      { "id": 4, "nome": "Edição 04", "inicio": 18, "fim": 22 },
      { "id": 5, "nome": "Edição 05", "inicio": 23, "fim": 26 },
      { "id": 6, "nome": "Edição 06", "inicio": 27, "fim": 30 },
      { "id": 7, "nome": "Edição 07", "inicio": 31, "fim": 38 }
    ],
    "total_edicoes": 7
  },

  "regras": {
    "calculo": {
      "metodo": "soma_pontuacoes_periodo",
      "fonte_dados": "collection:rodadas",
      "agregacao_por_edicao": true
    },

    "ordenacao": {
      "criterio_principal": "pontos_total",
      "direcao": "DESC"
    },

    "desempate": {
      "criterios": [
        "maior_media_pontos",
        "maior_rodadas_jogadas",
        "posicao_ranking_geral"
      ]
    },

    "estados_edicao": [
      {
        "status": "pendente",
        "descricao": "Edição ainda não iniciou (rodadaAtual < inicio)"
      },
      {
        "status": "em_andamento",
        "descricao": "Edição em progresso (inicio <= rodadaAtual < fim)"
      },
      {
        "status": "consolidado",
        "descricao": "Edição encerrada e imutável (rodadaAtual >= fim)"
      }
    ],

    "imutabilidade": {
      "edicoes_consolidadas": true,
      "descricao": "Uma vez consolidada, edição não é recalculada"
    },

    "cache": {
      "collection": "melhor_mes_cache",
      "documento_por_liga": true,
      "flag_temporada_encerrada": true
    }
  },

  "campos_ranking": [
    "posicao",
    "timeId",
    "nome_time",
    "nome_cartola",
    "escudo",
    "clube_id",
    "pontos_total",
    "rodadas_jogadas",
    "media"
  ],

  "premiacao": {
    "campeao_edicao": {
      "valor": 20.00,
      "descricao": "Prêmio por ser campeão de uma edição"
    },
    "campeao_geral": {
      "valor": 50.00,
      "descricao": "Bônus para quem vencer mais edições"
    }
  },

  "financeiro": {
    "impacto_banco": true,
    "tipo_transacao": "MELHOR_MES",
    "moeda": "BRL",
    "precisao_decimal": 2
  },

  "wizard": {
    "titulo": "Configurar Melhor do Mes",
    "descricao": "Defina premiacao do campeao de cada edicao mensal",
    "perguntas": [
      {
        "id": "total_edicoes",
        "tipo": "number",
        "label": "Quantas edicoes mensais?",
        "descricao": "Numero de competicoes mensais na temporada",
        "default": 7,
        "min": 1,
        "max": 12,
        "step": 1,
        "required": true,
        "afeta": "calendario.total_edicoes"
      },
      {
        "id": "edicoes_intervalos",
        "tipo": "edicoes_ranges",
        "label": "Intervalo de rodadas por edicao",
        "descricao": "Defina de qual rodada ate qual rodada cada edicao sera disputada.",
        "required": true,
        "dependeDe": "total_edicoes",
        "afeta": "calendario_override.edicoes"
      },
      {
        "id": "valor_campeao_edicao",
        "tipo": "number",
        "label": "Valor por edicao vencida (R$)",
        "descricao": "Premio para o campeao de cada mes",
        "default": 20,
        "min": 0,
        "max": 200,
        "step": 5,
        "required": true,
        "afeta": "financeiro_override.valores_simples.vitoria"
      },
      {
        "id": "valor_campeao_geral",
        "tipo": "number",
        "label": "Bonus campeao geral (R$)",
        "descricao": "Bonus para quem vencer mais edicoes",
        "default": 50,
        "min": 0,
        "max": 500,
        "step": 10,
        "required": false,
        "afeta": "premiacao.campeao_geral.valor"
      }
    ]
  },

  "metadados": {
    "criado_em": "2025-12-14",
    "autor": "Sistema",
    "fonte": "services/melhorMesService.js, models/MelhorMesCache.js"
  }
}
