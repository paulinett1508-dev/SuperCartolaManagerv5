<!-- === ADI√á√ïES NECESS√ÅRIAS NO detalhe-liga.html === -->

<!-- 1. NO <HEAD>, ADICIONAR AP√ìS OS LINKS CSS EXISTENTES: -->
<style>
    /* === MELHORIAS - CARDS DESATIVADOS + LOGO MAIOR === */
    
    /* Logo Sidebar Aumentado */
    .logo-image {
        width: 42px !important;
        height: 42px !important;
        object-fit: contain;
        filter: drop-shadow(0 0 8px rgba(255, 69, 0, 0.4));
        transition: all 0.3s ease;
    }

    #logoFallback {
        width: 42px !important;
        height: 42px !important;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px !important;
        color: var(--laranja);
        text-shadow: 0 0 8px rgba(255, 69, 0, 0.4);
        transition: all 0.3s ease;
    }

    /* Cards Desativados */
    .module-card.disabled {
        opacity: 0.65 !important;
        cursor: not-allowed !important;
        pointer-events: none !important;
        background: linear-gradient(135deg, #1a1a1a 0%, #161616 100%) !important;
        border-color: rgba(160, 160, 160, 0.3) !important;
    }

    .module-card.disabled::before {
        background: linear-gradient(135deg, #888888 0%, #666666 100%) !important;
        opacity: 1 !important;
    }

    .module-card.disabled .module-icon {
        color: #999999 !important;
    }

    .module-card.disabled .module-title {
        color: #aaaaaa !important;
    }

    .module-card.disabled .module-items li {
        color: #888888 !important;
    }

    .module-card.disabled .module-items li::before {
        color: #777777 !important;
    }

    .module-card.disabled:hover {
        transform: none !important;
        box-shadow: none !important;
        border-color: rgba(96, 96, 96, 0.3) !important;
    }

    /* Tooltip para Cards Desativados */
    .module-card.disabled::after {
        content: "N√£o aplic√°vel a esta liga";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.9);
        color: #ffffff;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 600;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        z-index: 10;
    }

    .module-card.disabled:hover::after {
        opacity: 1;
    }

    /* Responsividade Logo */
    @media (max-width: 768px) {
        .logo-image {
            width: 36px !important;
            height: 36px !important;
        }
        #logoFallback {
            width: 36px !important;
            height: 36px !important;
            font-size: 24px !important;
        }
    }

    @media (max-width: 480px) {
        .logo-image {
            width: 32px !important;
            height: 32px !important;
        }
        #logoFallback {
            width: 32px !important;
            height: 32px !important;
            font-size: 22px !important;
        }
    }
</style>

<!-- 2. NO <BODY>, ADICIONAR ANTES DO SCRIPT MODULE FINAL: -->
<script>
    // === SISTEMA CONDICIONAL DE CARDS ===
    
    const CARDS_CONFIG = {
        "684cb1c8af923da7c7df51de": { // Super Cartola 2025
            disabled: ["premios"],
            reason: "Pr√™mios n√£o se aplicam a esta liga"
        },
        "684d821cf1a7ae16d1f89572": { // Cartoleiros do Sobral
            disabled: ["competicoes"], 
            reason: "Competi√ß√µes n√£o se aplicam a esta liga"
        }
    };

    function aplicarConfiguracaoCards() {
        try {
            const urlParams = new URLSearchParams(window.location.search);
            const ligaId = urlParams.get("id");
            
            if (!ligaId) return;
            
            const config = CARDS_CONFIG[ligaId];
            if (!config) return;
            
            config.disabled.forEach(moduleId => {
                const card = document.querySelector(`[data-module="${moduleId}"]`);
                if (card) {
                    card.classList.add('disabled');
                    console.log(`üö´ Card "${moduleId}" desabilitado para liga ${ligaId}`);
                }
            });
        } catch (error) {
            console.error("Erro ao aplicar configura√ß√£o cards:", error);
        }
    }

    function isModuleDisabled(moduleId) {
        const urlParams = new URLSearchParams(window.location.search);
        const ligaId = urlParams.get("id");
        const config = CARDS_CONFIG[ligaId];
        return config && config.disabled.includes(moduleId);
    }

    // Aguardar inicializa√ß√£o e aplicar
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(aplicarConfiguracaoCards, 200);
    });
</script>

<!-- 3. NO SCRIPT MODULE PRINCIPAL, ATUALIZAR A FUN√á√ÉO initializeNavigation(): -->
<!--
    SUBSTITUIR A FUN√á√ÉO initializeNavigation() EXISTENTE POR:

    function initializeNavigation() {
        const cards = document.querySelectorAll(".module-card");
        const items = document.querySelectorAll(".module-items li[data-action]");

        // Cards principais com verifica√ß√£o condicional
        cards.forEach((card) => {
            // Verificar se est√° desabilitado
            if (card.classList.contains('disabled')) {
                return; // N√£o adicionar event listener
            }
            
            card.addEventListener("click", async (e) => {
                if (processingModule) return;

                card.style.transform = "translateY(-1px) scale(0.98)";
                setTimeout(() => {
                    card.style.transform = "";
                }, 150);

                const module = card.dataset.module;
                if (module === "participantes") {
                    await showParticipantes();
                } else {
                    const firstAction = card.querySelector("li[data-action]");
                    if (firstAction) {
                        await executeAction(firstAction.dataset.action);
                    }
                }
            });
        });

        // Items espec√≠ficos com verifica√ß√£o
        items.forEach((item) => {
            const parentCard = item.closest('.module-card');
            if (parentCard && parentCard.classList.contains('disabled')) {
                return; // N√£o adicionar event listener
            }
            
            item.addEventListener("click", async (e) => {
                e.stopPropagation();
                if (processingModule) return;

                item.style.opacity = "0.6";
                setTimeout(() => {
                    item.style.opacity = "";
                }, 150);

                await executeAction(item.dataset.action);
            });
        });
    }
-->